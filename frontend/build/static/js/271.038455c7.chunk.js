"use strict";(self.webpackChunkanimespring=self.webpackChunkanimespring||[]).push([[271],{3271:(e,s,t)=>{t.r(s),t.d(s,{default:()=>k});var a=t(5043),r=t(9722),i=t(3216),o=t(5475),c=t(5985),n=t(579);const l=()=>{const[e,s]=(0,a.useState)([]),[t,r]=(0,a.useState)(1),[l,d]=(0,a.useState)(!0),m=(0,a.useRef)(null),u=(0,i.zy)(),{favorites:h}=(0,c.r)(),p="/favorites"===u.pathname;(0,a.useEffect)(()=>(v(),x(),window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}),[]);const x=()=>{const e=m.current,s=document.querySelector(".product-list-container");if(e&&s){const t=s.offsetHeight;e.style.height="".concat(t,"px"),g(t)}},g=async e=>{try{const t=await fetch("http://localhost:5000/api/products"),a=await t.json(),r=e-300-100,i=80,o=Math.floor(r/i),c=Math.max(1,Math.min(a.length,o)),n=[...a].sort(()=>Math.random()-.5).slice(0,c);s(n)}catch(t){console.error("Error calculating and loading products:",t)}},v=async()=>{try{const e=await fetch("http://localhost:5000/api/products"),t=await e.json(),a=t.slice(0,60);s(a),r(2),d(t.length>60),setTimeout(x,100)}catch(e){console.error("Error fetching products:",e)}};return(0,n.jsxs)("aside",{className:"sidebar",ref:m,children:[(0,n.jsxs)("div",{className:"sidebar-section",children:[(0,n.jsx)("h3",{children:"Categories"}),(0,n.jsxs)("ul",{className:"category-list",children:[(0,n.jsx)("li",{children:(0,n.jsx)(o.N_,{to:"/category/Fashion",children:"Fashion"})}),(0,n.jsx)("li",{children:(0,n.jsx)(o.N_,{to:"/category/Electronics",children:"Electronics"})}),(0,n.jsx)("li",{children:(0,n.jsx)(o.N_,{to:"/category/Home%20%26%20Garden",children:"Home & Garden"})}),(0,n.jsx)("li",{children:(0,n.jsx)(o.N_,{to:"/category/Books",children:"Books"})}),(0,n.jsx)("li",{children:(0,n.jsx)(o.N_,{to:"/category/Sports%20%26%20Outdoors",children:"Sports & Outdoors"})}),(0,n.jsx)("li",{children:(0,n.jsx)(o.N_,{to:"/category/Health%20%26%20Beauty",children:"Health & Beauty"})}),(0,n.jsx)("li",{children:(0,n.jsx)(o.N_,{to:"/category/Food%20%26%20Grocery",children:"Food & Grocery"})}),(0,n.jsx)("li",{children:(0,n.jsx)(o.N_,{to:"/category/Toys%20%26%20Games",children:"Toys & Games"})}),(0,n.jsx)("li",{children:(0,n.jsx)(o.N_,{to:"/category/Automotive",children:"Automotive"})})]})]}),(0,n.jsxs)("div",{className:"sidebar-section",children:[(0,n.jsx)("h3",{children:p?"Your Favorites":"Featured Products"}),(0,n.jsx)("ul",{className:"best-sellers-list",children:p?0===h.length?(0,n.jsx)("li",{children:"No favorites yet"}):h.slice(0,5).map(e=>(0,n.jsx)("li",{children:(0,n.jsxs)(o.N_,{to:"/product/".concat(encodeURIComponent(e.name),"?id=").concat(e.id),className:"featured-product-link",children:[(0,n.jsxs)("div",{className:"image-container",children:[(0,n.jsx)("img",{src:e.imageUrl,alt:e.name}),e.tier&&("Premium"===e.tier?(0,n.jsx)("span",{className:"premium-badge",children:"Premium"}):"Cheap"===e.tier?(0,n.jsx)("span",{className:"cheap-badge",children:"Cheap"}):"Medium"===e.tier?(0,n.jsx)("span",{className:"medium-badge",children:"Medium"}):void 0)]}),(0,n.jsxs)("div",{className:"best-seller-info",children:[(0,n.jsx)("span",{children:e.name}),(0,n.jsxs)("span",{className:"price",children:[e.previousPrice&&e.previousPrice>e.price&&(0,n.jsxs)("span",{className:"previous-price",children:["$",e.previousPrice.toFixed(2)]}),"$",e.price.toFixed(2)]})]})]})},e.id)):0===e.length?(0,n.jsx)("li",{children:"Loading..."}):e.map(e=>(0,n.jsx)("li",{children:(0,n.jsxs)(o.N_,{to:"/product/".concat(encodeURIComponent(e.name),"?id=").concat(e.id),className:"featured-product-link",children:[(0,n.jsxs)("div",{className:"image-container",children:[(0,n.jsx)("img",{src:e.imageUrl,alt:e.name}),e.tier&&("Premium"===e.tier?(0,n.jsx)("span",{className:"premium-badge",children:"Premium"}):"Cheap"===e.tier?(0,n.jsx)("span",{className:"cheap-badge",children:"Cheap"}):"Medium"===e.tier?(0,n.jsx)("span",{className:"medium-badge",children:"Medium"}):void 0)]}),(0,n.jsxs)("div",{className:"best-seller-info",children:[(0,n.jsx)("span",{children:e.name}),(0,n.jsxs)("span",{className:"price",children:[e.previousPrice&&e.previousPrice>e.price&&(0,n.jsxs)("span",{className:"previous-price",children:["$",e.previousPrice.toFixed(2)]}),"$",e.price.toFixed(2)]})]})]})},e.id))})]})]})};t(5097);var d=t(9379);const m=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e&&"string"===typeof e?e.length<=s?e:e.substring(0,s)+"...":""},u=function(e){return m(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:80)},h=function(e){return m(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:40)};var p=t(2224),x=t(6471);const g=e=>{let{products:s,location:t}=e;const[r,m]=(0,a.useState)(s.slice(0,12)),[u,g]=(0,a.useState)(!1),[v,j]=(0,a.useState)(s.length>12),[f,N]=(0,a.useState)(null),w=(0,a.useRef)(),{addToCart:P}=(0,a.useContext)(p.M),{showNotification:y}=(0,x.hN)(),{addToFavorites:b,removeFromFavorites:k,isFavorite:C,requireAuthForFavorites:S}=(0,c.r)(),F=(0,i.Zp)();(0,a.useEffect)(()=>{m(s.slice(0,12)),j(s.length>12)},[s]);const E=(0,a.useCallback)(async()=>{if(0!==r.length)try{const e=await Promise.all(r.map(async e=>{try{const s=await fetch("http://localhost:5000/api/products/id/".concat(e.id));if(s.ok){const t=await s.json();return(0,d.A)((0,d.A)({},e),{},{stock:t.stock,maxBuyers:t.maxBuyers,maxPerPerson:t.maxPerPerson,outOfStockDate:t.outOfStockDate})}return e}catch(s){return console.error("Error fetching stock data for product ".concat(e.id,":"),s),e}}));m(e),N((new Date).toISOString()),console.log("Updated mobile products with real-time stock data")}catch(e){console.error("Error updating stock data:",e)}},[r]);(0,a.useEffect)(()=>{if(0===r.length)return;E();const e=setInterval(E,3e4);return()=>clearInterval(e)},[r.length,E]);const I=(0,a.useCallback)(()=>{g(!0),setTimeout(()=>{const e=r.length,t=s.slice(0,e+8);m(t),j(t.length<s.length),g(!1)},300)},[r.length,s]),A=(0,a.useCallback)(e=>{u||(w.current&&w.current.disconnect(),w.current=new IntersectionObserver(e=>{e[0].isIntersecting&&v&&I()}),e&&w.current.observe(e))},[u,v,I]),L=(e,s)=>{e.preventDefault(),e.stopPropagation(),P({id:s.id,name:s.name,price:s.price,imageUrl:s.imageUrl,quantity:1,color:s.color||"",size:s.size||""}),y("".concat(s.name," added to cart!"),"success")},B=(e,s)=>{e.preventDefault(),e.stopPropagation(),P({id:s.id,name:s.name,price:s.price,imageUrl:s.imageUrl,quantity:1,color:s.color||"",size:s.size||""}),F("/cart")};return(0,n.jsxs)("div",{className:"product-list-wrapper no-background",children:[(0,n.jsx)(l,{}),(0,n.jsxs)("div",{className:"product-list-container no-background",children:[(0,n.jsx)("h1",{className:"product-list-title",children:t?"Popular in ".concat(t):"PrimeGadgetZone Products"}),t&&(0,n.jsx)("div",{className:"location-badge",children:"\ud83d\udccd Your area"}),(0,n.jsxs)("div",{className:"product-list-grid",children:[u&&(0,n.jsx)("div",{className:"beautiful-loading-placeholder",children:Array.from({length:6}).map((e,s)=>(0,n.jsxs)("div",{className:"beautiful-loading-item",children:[(0,n.jsx)("div",{className:"beautiful-loading-image"}),(0,n.jsx)("div",{className:"beautiful-loading-text"}),(0,n.jsx)("div",{className:"beautiful-loading-text"})]},s))}),r.length>0?r.map((e,s)=>s===r.length-1?(0,n.jsxs)(o.N_,{ref:A,to:"/product/".concat(encodeURIComponent(e.name),"?id=").concat(e.id),className:"product-card glass-card",children:[(0,n.jsxs)("div",{className:"product-image-container",children:[(0,n.jsx)("img",{src:e.imageUrl,alt:e.name}),e.tier&&(0,n.jsx)("div",{className:"tier-badge tier-".concat(e.tier.toLowerCase()),children:e.tier}),e.status&&"Active"!==e.status&&(0,n.jsx)("div",{className:"status-badge status-".concat(e.status.toLowerCase()),children:e.status}),(0,n.jsx)("button",{className:"favorite-badge ".concat(C(e.id)?"favorited":""),onClick:s=>{if(s.preventDefault(),s.stopPropagation(),C(e.id))k(e.id),y("".concat(e.name," removed from favorites"),"info");else{b(e)&&y("".concat(e.name," added to favorites"),"success")}},title:C(e.id)?"Remove from favorites":"Add to favorites",children:(0,n.jsx)("svg",{className:"favorite-icon-small",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",fill:"currentColor"})})})]}),(0,n.jsxs)("div",{className:"product-info",children:[(0,n.jsx)("h3",{children:h(e.name,30)}),(0,n.jsx)("div",{className:"price-section",children:e.previousPrice&&e.previousPrice>e.price?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"original-price",children:["$",e.previousPrice.toFixed(2)]}),(0,n.jsxs)("span",{className:"current-price",children:["$",e.price.toFixed(2)]}),(0,n.jsxs)("span",{className:"discount-badge",children:[Math.round((e.previousPrice-e.price)/e.previousPrice*100),"% OFF"]})]}):(0,n.jsxs)("span",{className:"current-price",children:["$",e.price.toFixed(2)]})}),(e.maxBuyers||e.maxPerPerson)&&(0,n.jsxs)("div",{className:"purchase-limits",children:[e.maxBuyers&&(0,n.jsxs)("span",{className:"limit-info",children:["Max: ",e.maxBuyers]}),e.maxPerPerson&&(0,n.jsxs)("span",{className:"limit-info",children:["Per Person: ",e.maxPerPerson]})]}),e.categories&&e.categories.length>0&&(0,n.jsx)("div",{className:"product-categories",children:e.categories.slice(0,1).map((e,s)=>(0,n.jsx)("span",{className:"category-tag",children:e},s))}),(0,n.jsxs)("div",{className:"product-actions",children:[(0,n.jsx)("button",{className:"add-to-cart-btn",onClick:s=>L(s,e),children:"Add to Cart"}),(0,n.jsx)("button",{className:"buy-now-btn",onClick:s=>B(s,e),children:"Buy Now"})]})]})]},e.id):(0,n.jsxs)(o.N_,{to:"/product/".concat(encodeURIComponent(e.name),"?id=").concat(e.id),className:"product-card glass-card",children:[(0,n.jsxs)("div",{className:"product-image-container",children:[(0,n.jsx)("img",{src:e.imageUrl,alt:e.name}),e.tier&&(0,n.jsx)("div",{className:"tier-badge tier-".concat(e.tier.toLowerCase()),children:e.tier}),e.status&&"Active"!==e.status&&(0,n.jsx)("div",{className:"status-badge status-".concat(e.status.toLowerCase()),children:e.status}),(0,n.jsx)("button",{className:"favorite-badge ".concat(C(e.id)?"favorited":""),onClick:s=>{if(s.preventDefault(),s.stopPropagation(),C(e.id))k(e.id),y("".concat(e.name," removed from favorites"),"info");else{b(e)&&y("".concat(e.name," added to favorites"),"success")}},title:C(e.id)?"Remove from favorites":"Add to favorites",children:(0,n.jsx)("svg",{className:"favorite-icon-small",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",fill:"currentColor"})})})]}),(0,n.jsxs)("div",{className:"product-info",children:[(0,n.jsx)("h3",{children:h(e.name,30)}),(0,n.jsx)("div",{className:"price-section",children:e.previousPrice&&e.previousPrice>e.price?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"original-price",children:["$",e.previousPrice.toFixed(2)]}),(0,n.jsxs)("span",{className:"current-price",children:["$",e.price.toFixed(2)]}),(0,n.jsxs)("span",{className:"discount-badge",children:[Math.round((e.previousPrice-e.price)/e.previousPrice*100),"% OFF"]})]}):(0,n.jsxs)("span",{className:"current-price",children:["$",e.price.toFixed(2)]})}),(e.maxBuyers||e.maxPerPerson)&&(0,n.jsxs)("div",{className:"purchase-limits",children:[e.maxBuyers&&(0,n.jsxs)("span",{className:"limit-info",children:["Max: ",e.maxBuyers]}),e.maxPerPerson&&(0,n.jsxs)("span",{className:"limit-info",children:["Per Person: ",e.maxPerPerson]})]}),e.categories&&e.categories.length>0&&(0,n.jsx)("div",{className:"product-categories",children:e.categories.slice(0,1).map((e,s)=>(0,n.jsx)("span",{className:"category-tag",children:e},s))}),(0,n.jsxs)("div",{className:"product-actions",children:[(0,n.jsx)("button",{className:"add-to-cart-btn",onClick:s=>L(s,e),children:"Add to Cart"}),(0,n.jsx)("button",{className:"buy-now-btn",onClick:s=>B(s,e),children:"Buy Now"})]})]})]},e.id)):(0,n.jsx)("div",{className:"no-products",children:(0,n.jsx)("p",{children:"No products available at the moment."})})]}),v&&(0,n.jsx)("div",{className:"load-more-container",children:(0,n.jsx)("button",{className:"load-more-btn",onClick:I,disabled:u,children:u?"Loading...":"Load More Products"})})]})]})},v=()=>(0,n.jsxs)("div",{className:"skeleton-product-card",children:[(0,n.jsx)("div",{className:"skeleton-image"}),(0,n.jsxs)("div",{className:"skeleton-info",children:[(0,n.jsx)("div",{className:"skeleton-title"}),(0,n.jsx)("div",{className:"skeleton-description"}),(0,n.jsx)("div",{className:"skeleton-price"}),(0,n.jsxs)("div",{className:"skeleton-actions",children:[(0,n.jsx)("div",{className:"skeleton-button"}),(0,n.jsx)("div",{className:"skeleton-button"})]})]})]});var j=t(3986);const f=["src","alt","className"],N=e=>{let{src:s,alt:t,className:r}=e,i=(0,j.A)(e,f);const[o,c]=(0,a.useState)(!1),[l,m]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),p=(0,a.useRef)();(0,a.useEffect)(()=>{const e=new IntersectionObserver(s=>{let[t]=s;t.isIntersecting&&(m(!0),e.disconnect())},{threshold:.1});return p.current&&e.observe(p.current),()=>e.disconnect()},[]);return(0,n.jsxs)("div",{ref:p,className:"lazy-image-container ".concat(r||""),children:[l&&!u&&(0,n.jsx)("img",(0,d.A)({src:s,alt:t,onLoad:()=>{c(!0)},onError:()=>{h(!0)},className:"lazy-image ".concat(o?"loaded":"loading")},i)),!o&&!u&&(0,n.jsx)("div",{className:"lazy-image-placeholder"}),u&&(0,n.jsx)("div",{className:"lazy-image-error",children:(0,n.jsx)("span",{children:"Image failed to load"})})]})},w=async()=>{if(!navigator.geolocation)return console.warn("Geolocation is not supported by this browser"),null;try{const e=await new Promise((e,s)=>{navigator.geolocation.getCurrentPosition(e,s,{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}),{latitude:s,longitude:t}=e.coords,a=await P(s,t);return localStorage.setItem("userLocation",a),localStorage.setItem("locationPermission","granted"),a}catch(e){return console.warn("Location permission denied or error:",e),localStorage.setItem("locationPermission","denied"),null}},P=async(e,s)=>e>40&&e<42&&s>-74&&s<-72?"New York":e>33&&e<35&&s>-119&&s<-117?"Los Angeles":e>51&&e<52&&s>-.5&&s<.5?"London":e>35&&e<37&&s>139&&s<141?"Tokyo":e>48&&e<50&&s>2&&s<4?"Paris":e>52&&e<53&&s>13&&s<14?"Berlin":e>23&&e<25&&s>90&&s<92?"Dhaka":e>22&&e<24&&s>89&&s<91?"Faridpur":e>24&&e<26&&s>88&&s<90?"Rajshahi":e>22&&e<24&&s>91&&s<93?"Chittagong":e>23&&e<25&&s>89&&s<91?"Mymensingh":e>23&&e<25&&s>88&&s<90?"Rangpur":e>22&&e<24&&s>90&&s<92?"Barisal":e>22&&e<24&&s>89&&s<91?"Khulna":e>23&&e<25&&s>90&&s<92?"Sylhet":e>0&&s>0?"Eastern Region":e>0&&s<0?"Western Region":e<0&&s>0?"Southern Region":e<0&&s<0?"Northern Region":"Local Area",y=async()=>{try{const e=await fetch("http://localhost:5000/api/products/popular");if(!e.ok)throw new Error("Failed to fetch popular products");return await e.json()}catch(e){return console.error("Error fetching popular products:",e),[]}},b=async()=>{const e=localStorage.getItem("locationPermissionLastAsked"),s=localStorage.getItem("locationPermissionShown"),t=localStorage.getItem("locationPermission"),a=()=>{if(!e)return!0;const s=new Date(parseInt(e)),t=new Date;return t.setDate(t.getDate()-1),s<t};if("denied"===t&&!a())return null;if(s&&"denied"!==t&&!a())return(async()=>{if("denied"===localStorage.getItem("locationPermission"))return null;return localStorage.getItem("userLocation")||await w()})();const r=window.confirm("PrimeGadgetZone would like to use your location to show personalized product recommendations. Allow location access?");return localStorage.setItem("locationPermissionShown","true"),localStorage.setItem("locationPermissionLastAsked",Date.now().toString()),r?await w():(localStorage.setItem("locationPermission","denied"),null)},k=()=>{const{showNotification:e}=(0,x.hN)(),{addToFavorites:s,removeFromFavorites:t,isFavorite:d,requireAuthForFavorites:m}=(0,c.r)(),[j,f]=(0,a.useState)(!1),[w,P]=(0,a.useState)([]),[k,C]=(0,a.useState)(null),[S,F]=(0,a.useState)(!0),[E,I]=(0,a.useState)(Date.now()),[A,L]=(0,a.useState)(1),[B,O]=(0,a.useState)(!0),{addToCart:z}=(0,a.useContext)(p.M),M=(0,i.Zp)();(0,a.useEffect)(()=>{const e=()=>{f(window.innerWidth<=600)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{U()},[]);const U=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];F(!0);try{e&&(localStorage.removeItem("userLocation"),localStorage.removeItem("locationPermission"),localStorage.removeItem("locationPermissionLastAsked"),localStorage.removeItem("locationPermissionShown"),I(Date.now()));const s=await b();if(s){C(s);Date.now();const e=await(async e=>{try{const s=await fetch("http://localhost:5000/api/products/location/".concat(encodeURIComponent(e)));if(!s.ok)throw new Error("Failed to fetch location-based products");return(await s.json()).products||[]}catch(s){return console.error("Error fetching location-based products:",s),y()}})(s),t=e.slice(0,60);P(t),L(2),O(e.length>60)}else{Date.now();const e=await y(),s=e.slice(0,60);P(s),L(2),O(e.length>60)}}catch(s){console.error("Error initializing products:",s);try{const e=await r.A.get("http://localhost:5000/api/products"),s=e.data.slice(0,60);P(s),L(2),O(e.data.length>60)}catch(t){console.error("Fallback product fetch failed:",t),P([])}}finally{F(!1)}},D=()=>{window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&B&&(async()=>{try{const e=(await r.A.get("http://localhost:5000/api/products")).data,s=60*(A-1),t=s+30;if(s>=e.length)return void O(!1);const a=e.slice(s,t);P(e=>[...e,...a]),L(e=>e+1),t>=e.length&&O(!1)}catch(e){console.error("Error loading more products:",e)}})()};(0,a.useEffect)(()=>(window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)),[B]);return j?(0,n.jsx)(g,{products:w,location:k}):S?(0,n.jsxs)("div",{className:"product-list-wrapper",children:[(0,n.jsx)(l,{}),(0,n.jsxs)("div",{className:"product-list-container",children:[(0,n.jsx)("h1",{className:"product-list-title",children:"PrimeGadgetZone Products"}),(0,n.jsx)("div",{className:"product-list-grid",children:Array.from({length:12},(e,s)=>(0,n.jsx)(v,{},s))})]})]}):(0,n.jsxs)("div",{className:"product-list-wrapper",children:[(0,n.jsx)(l,{}),(0,n.jsxs)("div",{className:"product-list-container",children:[(0,n.jsx)("h1",{className:"product-list-title",children:k?"Popular in ".concat(k):"PrimeGadgetZone Products"}),k&&(0,n.jsx)("div",{className:"location-badge",children:"\ud83d\udccd Showing recommendations for your area"}),(0,n.jsx)("div",{className:"product-list-grid",children:w.length>0?w.map(a=>(0,n.jsxs)(o.N_,{to:"/product/".concat(encodeURIComponent(a.name),"?id=").concat(a.id),className:"product-card",children:[(0,n.jsxs)("div",{className:"product-image-container",children:[(0,n.jsx)(N,{src:a.imageUrl,alt:a.name}),0===a.stock&&(0,n.jsx)("div",{className:"out-of-stock-badge",children:"OUT OF STOCK"}),a.tier&&(0,n.jsx)("div",{className:"tier-badge tier-".concat(a.tier.toLowerCase()),children:a.tier}),a.status&&"Active"!==a.status&&(0,n.jsx)("div",{className:"status-badge status-".concat(a.status.toLowerCase()),children:a.status}),(0,n.jsx)("button",{className:"favorite-badge ".concat(d(a.id)?"favorited":""),onClick:r=>{if(r.preventDefault(),r.stopPropagation(),d(a.id))t(a.id),e("".concat(a.name," removed from favorites"),"info");else{s(a)&&e("".concat(a.name," added to favorites"),"success")}},title:d(a.id)?"Remove from favorites":"Add to favorites",children:(0,n.jsx)("svg",{className:"favorite-icon-small",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",fill:"currentColor"})})})]}),(0,n.jsxs)("div",{className:"product-info",children:[(0,n.jsx)("h3",{children:h(a.name)}),(0,n.jsx)("p",{className:"product-description",children:u(a.description)}),(0,n.jsx)("div",{className:"price-section",children:a.previousPrice&&a.previousPrice>a.price?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"original-price",children:["$",a.previousPrice.toFixed(2)]}),(0,n.jsxs)("span",{className:"current-price",children:["$",a.price.toFixed(2)]}),(0,n.jsx)("span",{className:"discount-badge",children:(a.previousPrice-a.price)/a.previousPrice<=.05?"Elite Choice":"".concat(Math.round((a.previousPrice-a.price)/a.previousPrice*100),"% OFF")})]}):(0,n.jsxs)("span",{className:"current-price",children:["$",a.price.toFixed(2)]})}),(a.maxBuyers||a.maxPerPerson)&&(0,n.jsxs)("div",{className:"purchase-limits",children:[a.maxBuyers&&a.maxBuyers>0&&(0,n.jsx)("span",{className:"limit-info",children:"Only ".concat(a.maxBuyers," left in stock")}),0===a.maxBuyers&&(0,n.jsx)("span",{className:"limit-info out-of-stock",children:"Out of stock"}),a.maxPerPerson&&(0,n.jsxs)("span",{className:"limit-info",style:{display:"block"},children:["Max Per Person: ",a.maxPerPerson]})]}),(0,n.jsxs)("div",{className:"product-actions",children:[(0,n.jsx)("button",{className:"add-to-cart-btn",onClick:s=>((s,t)=>{s.preventDefault(),s.stopPropagation(),z({id:t.id,name:t.name,price:t.price,imageUrl:t.imageUrl,quantity:1,color:t.color||"",size:t.size||""}),e("".concat(t.name," added to cart!"),"success")})(s,a),disabled:0===a.stock,children:0===a.stock?"Out of Stock":"Add to Cart"}),(0,n.jsx)("button",{className:"buy-now-btn",onClick:e=>((e,s)=>{e.preventDefault(),e.stopPropagation(),z({id:s.id,name:s.name,price:s.price,imageUrl:s.imageUrl,quantity:1,color:s.color||"",size:s.size||""}),M("/cart")})(e,a),disabled:0===a.stock,children:0===a.stock?"Out of Stock":"Buy Now"})]})]})]},a.id)):(0,n.jsx)("div",{className:"no-products",children:(0,n.jsx)("p",{children:"No products available at the moment."})})})]})]})}},3986:(e,s,t)=>{function a(e,s){if(null==e)return{};var t,a,r=function(e,s){if(null==e)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==s.indexOf(a))continue;t[a]=e[a]}return t}(e,s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],-1===s.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}t.d(s,{A:()=>a})},5097:()=>{}}]);
//# sourceMappingURL=271.038455c7.chunk.js.map