{"version":3,"file":"static/js/796.b6389a0d.chunk.js","mappings":"8iUAUA,MA8EA,EA9EqBA,KACnB,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OACVC,EAAgBC,IAAqBC,EAAAA,EAAAA,WAAS,GAC/CC,GAAcC,EAAAA,EAAAA,QAAO,OACpBC,EAAcC,IAAmBJ,EAAAA,EAAAA,UAAS,OAEjDK,EAAAA,EAAAA,WAAU,KACR,MAAMC,GAAOC,EAAAA,EAAAA,MACPC,GAAcC,EAAAA,EAAAA,IAAmBH,EAAOI,IAE1CN,EADEM,EACcA,EAAKC,SAEL,QAGpB,MAAO,IAAMH,KACZ,IAEH,MAAMI,EAAW,CACf,CAAEC,KAAM,OAAQC,K,ypRAAgBC,KAAM,KACtC,CAAEF,KAAM,SAAUC,KAAME,EAAYD,KAAM,WAC1C,CAAEF,KAAM,OAAQC,KAAMG,EAAUF,KAAM,SACtC,CAAEF,KAAM,UAAWC,KAAMX,GAAgBe,EAAYH,KAAM,aAwB7D,OAhBAV,EAAAA,EAAAA,WAAU,KACR,MAAMc,EAAsBC,IACtBnB,EAAYoB,UAAYpB,EAAYoB,QAAQC,SAASF,EAAMG,SAC7DxB,GAAkB,IAQtB,OALID,EACF0B,SAASC,iBAAiB,YAAaN,GAEvCK,SAASE,oBAAoB,YAAaP,GAErC,KACLK,SAASE,oBAAoB,YAAaP,KAE3C,CAACrB,KAGF6B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yBAAwBC,SACpCjB,EAASkB,IAAI,CAACC,EAAMC,KACnB,MAAMC,EAAWrC,EAASsC,WAAaH,EAAKhB,KACtCoB,EAAqB,IAAVH,EAYjB,OACEI,EAAAA,EAAAA,MAAA,UAEER,UAAS,YAAAS,OAAcJ,EAAW,SAAW,GAAE,KAAAI,OAAIF,EAAW,gBAAkB,IAChFG,QAdgBC,KACA,MAAdR,EAAKhB,MAAsC,MAAtBnB,EAASsC,SAEhCM,OAAO5C,SAAS6C,SAGhB/C,EAASqC,EAAKhB,OAQOc,SAAA,CAEpBE,EAAKjB,OAAQa,EAAAA,EAAAA,KAAA,OAAKe,IAAKX,EAAKjB,KAAM6B,IAAKZ,EAAKlB,KAAMe,UAAU,cAC7DD,EAAAA,EAAAA,KAAA,QAAMC,UAAU,YAAWC,SAAEE,EAAKlB,SAL7BkB,EAAKlB,U","sources":["components/BottomNavBar.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { getAuth, onAuthStateChanged } from 'firebase/auth';\r\nimport './BottomNavBar.css';\r\n\r\nimport homeIcon from '../icons/Nav-icon/home.png';\r\nimport searchIcon from '../icons/Nav-icon/search.png';\r\nimport cartIcon from '../icons/Nav-icon/card.png';\r\nimport googleIcon from '../icons/Nav-icon/google.png';\r\n\r\nconst BottomNavBar = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [categoriesOpen, setCategoriesOpen] = useState(false);\r\n  const dropdownRef = useRef(null);\r\n  const [userPhotoURL, setUserPhotoURL] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const auth = getAuth();\r\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n      if (user) {\r\n        setUserPhotoURL(user.photoURL);\r\n      } else {\r\n        setUserPhotoURL(null);\r\n      }\r\n    });\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  const navItems = [\r\n    { name: 'Home', icon: homeIcon, path: '/' },\r\n    { name: 'Search', icon: searchIcon, path: '/search' },\r\n    { name: 'Card', icon: cartIcon, path: '/cart' },\r\n    { name: 'Profile', icon: userPhotoURL || googleIcon, path: '/profile' },\r\n  ];\r\n\r\n  const toggleCategories = () => {\r\n    setCategoriesOpen(!categoriesOpen);\r\n  };\r\n\r\n  // Close dropdown if clicked outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n        setCategoriesOpen(false);\r\n      }\r\n    };\r\n    if (categoriesOpen) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n    } else {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    }\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [categoriesOpen]);\r\n\r\n  return (\r\n    <nav className=\"bottom-nav-bar visible\">\r\n      {navItems.map((item, index) => {\r\n        const isActive = location.pathname === item.path;\r\n        const isCenter = index === 2; // History button is center\r\n        \r\n        const handleClick = () => {\r\n          if (item.path === '/' && location.pathname === '/') {\r\n            // If already on home page, refresh it\r\n            window.location.reload();\r\n          } else {\r\n            // Navigate to the page\r\n            navigate(item.path);\r\n          }\r\n        };\r\n\r\n        return (\r\n          <button\r\n            key={item.name}\r\n            className={`nav-item ${isActive ? 'active' : ''} ${isCenter ? 'center-button' : ''}`}\r\n            onClick={handleClick}\r\n          >\r\n            {item.icon && <img src={item.icon} alt={item.name} className=\"nav-icon\" />}\r\n            <span className=\"nav-label\">{item.name}</span>\r\n          </button>\r\n        );\r\n      })}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default BottomNavBar;\r\n"],"names":["BottomNavBar","navigate","useNavigate","location","useLocation","categoriesOpen","setCategoriesOpen","useState","dropdownRef","useRef","userPhotoURL","setUserPhotoURL","useEffect","auth","getAuth","unsubscribe","onAuthStateChanged","user","photoURL","navItems","name","icon","path","searchIcon","cartIcon","googleIcon","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","_jsx","className","children","map","item","index","isActive","pathname","isCenter","_jsxs","concat","onClick","handleClick","window","reload","src","alt"],"sourceRoot":""}