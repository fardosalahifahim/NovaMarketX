"use strict";(self.webpackChunkanimespring=self.webpackChunkanimespring||[]).push([[987],{1729:(e,s,a)=>{a.d(s,{y:()=>r});var i=a(3028),n=a(5890);const r=(0,i.Wp)({apiKey:"AIzaSyBjV2cxQt96NBZuN7VpYzQ61Vl2CHpOO4Q",authDomain:"anime-sprig.firebaseapp.com",projectId:"anime-sprig",storageBucket:"anime-sprig.firebasestorage.app",messagingSenderId:"349853958324",appId:"1:349853958324:web:b917efb1d5a2af736617e1",measurementId:"G-RGT6YF60BB"});(0,n.P5)(r)},6987:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var i=a(5043),n=a(2407),r=a(1729),t=a(3216),o=a(579);const l=(0,n.xI)(r.y),c=new n.HF,d=e=>{let{onLogin:s}=e;const[r,d]=(0,i.useState)(""),[g,u]=(0,i.useState)(""),[m,p]=(0,i.useState)(""),[h,f]=(0,i.useState)(!1),[b,x]=(0,i.useState)(""),j=(0,t.Zp)();return(0,o.jsxs)("div",{className:"login-container",children:[(0,o.jsx)("h2",{children:"Login"}),(0,o.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),"admin@example.com"===r)return p("Email login is disabled for admin panel"),void f(!1);(0,n.x9)(l,r,g).then(e=>{if(!e.user.emailVerified)return l.signOut(),p("Please verify your email address before logging in. Check your inbox for the verification link."),void f(!1);f(!0),s(!0),p(""),j("/")}).catch(e=>{p(e.message),f(!1)})},children:[(0,o.jsx)("input",{type:"email",placeholder:"Email",value:r,onChange:e=>d(e.target.value),required:!0}),(0,o.jsx)("input",{type:"password",placeholder:"Password",value:g,onChange:e=>u(e.target.value),required:!0}),(0,o.jsx)("div",{className:"forgot-password-container",children:(0,o.jsx)("button",{className:"forgot-password-container",onClick:()=>{r?(0,n.J1)(l,r).then(()=>{x("Password reset email sent! Check your inbox."),p("")}).catch(e=>{p(e.message),x("")}):p("Please enter your email address first.")},children:"Forgot Password?"})}),m&&(0,o.jsx)("p",{className:"error-message",children:m}),(0,o.jsx)("button",{type:"submit",children:"Login"})]}),(0,o.jsxs)("button",{className:"google-signin-button",onClick:()=>{(0,n.df)(l,c).then(e=>{const a=e.user;if(!a.emailVerified)return l.signOut(),p("Please verify your email address before logging in."),void f(!1);fetch("http://localhost:5000/api/users/google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:a.uid,email:a.email,displayName:a.displayName})}).then(e=>e.json()).then(e=>{console.log("User registered/updated in backend:",e)}).catch(e=>{console.error("Error registering user in backend:",e)}),f(!0),s(!0),p(""),j("/")}).catch(e=>{p(e.message),f(!1)})},children:[(0,o.jsx)("img",{src:a(7170),alt:"Google logo",className:"google-logo"}),"Sign in with Google"]}),(0,o.jsx)("div",{className:"register-section",children:(0,o.jsx)("button",{className:"register-btn",onClick:()=>j("/register"),children:"Don't have an account? Sign up"})}),h&&(0,o.jsx)("p",{className:"success-message",children:"Login successful!"}),b&&(0,o.jsx)("p",{className:"reset-message",children:b})]})}},7170:(e,s,a)=>{e.exports=a.p+"static/media/google.e12914ad8afda3f6f2e8.png"}}]);
//# sourceMappingURL=987.c2ade9f4.chunk.js.map