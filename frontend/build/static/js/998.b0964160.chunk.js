"use strict";(self.webpackChunkanimespring=self.webpackChunkanimespring||[]).push([[998],{8998:(e,o,n)=>{n.r(o),n.d(o,{default:()=>a});var r=n(5043),t=n(5475),i=n(2407),s=n(6471),c=n(579);const a=()=>{const[e,o]=(0,r.useState)(!1),n=(0,r.useRef)(null),[a,l]=(0,r.useState)(null),[d,u]=(0,r.useState)("/icons/Nav-icon/profile.png"),{showNotification:h}=(0,s.hN)();(0,r.useEffect)(()=>{a&&a.photoURL?u(a.photoURL):u("/icons/Nav-icon/profile.png")},[a]);(0,r.useEffect)(()=>{const e=e=>{n.current&&!n.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,r.useEffect)(()=>{const e=(0,i.xI)().onAuthStateChanged(e=>{l(e),e&&e.photoURL?u(e.photoURL):u("/icons/Nav-icon/profile.png")});return()=>e()},[]);return a?(0,c.jsxs)("div",{className:"nav-profile-dropdown-right",ref:n,children:[(0,c.jsx)("img",{src:d,alt:"Profile",className:"nav-profile-img-right",onClick:()=>{o(!e)},onError:()=>{console.error("Profile image failed to load, falling back to default."),u("/icons/Nav-icon/profile.png")},style:{cursor:"pointer",width:"32px",height:"32px",borderRadius:"50%"}},d),e&&(0,c.jsxs)("div",{className:"dropdown-card-right",children:[(0,c.jsx)(t.N_,{to:"/myorders",className:"dropdown-item-right",onClick:()=>o(!1),children:"My Orders"}),(0,c.jsx)(t.N_,{to:"/profile",className:"dropdown-item-right",onClick:()=>o(!1),children:"My Account"}),(0,c.jsx)("button",{className:"dropdown-item-right logout-button-right",onClick:async()=>{const e=(0,i.xI)();try{await(0,i.CI)(e),window.location.href="/login"}catch(o){console.error("Logout error:",o)}},children:"Logout"})]})]}):(0,c.jsxs)("div",{className:"nav-profile-login-register",children:[(0,c.jsx)(t.N_,{to:"/login",className:"nav-link",children:"Login"}),(0,c.jsx)(t.N_,{to:"/register",className:"nav-link",children:"Register"})]})}}}]);
//# sourceMappingURL=998.b0964160.chunk.js.map