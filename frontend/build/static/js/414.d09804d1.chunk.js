"use strict";(self.webpackChunkanimespring=self.webpackChunkanimespring||[]).push([[41,167,414,512,604,605,677,754],{167:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});var r=t(9379),n=t(5043),i=t(2407),d=t(6471),l=t(579);const a=e=>{let{statusFilter:s,readOnly:t=!1}=e;const[a,o]=(0,n.useState)([]),[c,h]=(0,n.useState)([]),[u,p]=(0,n.useState)(!0),x=(0,i.xI)(),[j,m]=(0,n.useState)(null),{showOrderStatusNotification:g,showOrderCancellationNotification:y,updateOrders:v}=(0,d.hN)();(0,n.useEffect)(()=>{const e=x.onAuthStateChanged(e=>{m(e)});return()=>e()},[x]),(0,n.useEffect)(()=>{j?(b(j.uid),f()):(o([]),p(!1))},[j,s]),(0,n.useEffect)(()=>{a.length>0&&v(a)},[a,v]);const b=async(e,t)=>{try{let r="http://localhost:5000/api/orders?userId=".concat(e);const n=await fetch(r),i=await n.json();let d=i;if(t)d="delivered"===t?i.filter(e=>"delivered"===e.status):"canceled"===t?i.filter(e=>"canceled"===e.status):i;else if(s)if("history"===s){const e=["canceled","delivered"];d=i.filter(s=>e.includes(s.status))}else d="canceled"===s?i.filter(e=>"canceled"===e.status):"delivered"===s?i.filter(e=>"delivered"===e.status):i.filter(e=>e.status===s);else d=i.filter(e=>"canceled"!==e.status&&"delivered"!==e.status);o(d),p(!1)}catch(r){console.error("Error fetching user orders:",r),p(!1)}},f=async()=>{try{const e=await fetch("http://localhost:5000/api/products"),s=await e.json();h(s)}catch(e){console.error("Error fetching products:",e)}},N=e=>c.find(s=>s.id===e);return j?u?(0,l.jsx)("p",{children:"Loading your orders..."}):0===a.length?(0,l.jsx)("p",{children:"You have no orders."}):(0,l.jsxs)("div",{className:"profile-section orders-section",children:[(0,l.jsxs)("h1",{children:["returned"===s&&"My Returns","canceled"===s&&"My Cancellations","history"===s&&"Order History",!s&&"My Orders"]}),(0,l.jsxs)("div",{className:"filter-container",children:[(0,l.jsx)("label",{htmlFor:"orderFilter",children:"Filter Orders: "}),(0,l.jsxs)("select",{id:"orderFilter",onChange:e=>{const s=e.target.value;"dateAsc"===s?o(e=>[...e].sort((e,s)=>new Date(e.orderDate)-new Date(s.orderDate))):"dateDesc"===s?o(e=>[...e].sort((e,s)=>new Date(s.orderDate)-new Date(e.orderDate))):"delivered"===s?b(j.uid,"delivered"):"canceled"===s?b(j.uid,"canceled"):b(j.uid)},children:[(0,l.jsx)("option",{value:"all",children:"All"}),(0,l.jsx)("option",{value:"delivered",children:"Delivered"}),(0,l.jsx)("option",{value:"canceled",children:"Canceled"}),(0,l.jsx)("option",{value:"dateAsc",children:"Date Ascending"}),(0,l.jsx)("option",{value:"dateDesc",children:"Date Descending"})]})]}),(0,l.jsx)("div",{className:"orders-table-container",children:(0,l.jsxs)("table",{className:"orders-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{"data-label":"Products",children:"Products"}),(0,l.jsx)("th",{"data-label":"Shipping Details",children:"Shipping Details"}),(0,l.jsx)("th",{"data-label":"Order ID",children:"Order ID"}),(0,l.jsx)("th",{"data-label":"Status",children:"Status"}),(0,l.jsx)("th",{"data-label":"Items & Total",children:"Items & Total"}),(0,l.jsx)("th",{"data-label":"Payment Method",children:"Payment Method"}),(0,l.jsx)("th",{"data-label":"Actions",children:"Actions"})]})}),(0,l.jsx)("tbody",{children:a.map(e=>(0,l.jsxs)("tr",{className:"order-table-row beautiful-row ".concat("canceled"===e.status?"canceled-row":""," ").concat("delivered"===e.status?"delivered-row":""),children:[(0,l.jsx)("td",{"data-label":"Products",children:(0,l.jsx)("ul",{className:"product-list",children:e.productDetails&&e.productDetails.length>0?e.productDetails.map(e=>{const s=N(e.id);return s?(0,l.jsxs)("li",{className:"product-list-item",children:[(0,l.jsx)("img",{src:s.imageUrl,alt:s.name,className:"product-image"}),(0,l.jsxs)("div",{className:"product-info",children:[(0,l.jsx)("div",{className:"product-name",children:s.name}),(0,l.jsxs)("div",{className:"product-id",children:["ID: ",s.id]}),(0,l.jsxs)("div",{className:"product-price",children:["Price: $",s.price.toFixed(2)," ",(0,l.jsx)("br",{})," Total: $",(s.price*e.quantity).toFixed(2)]}),(0,l.jsxs)("div",{className:"product-quantity",children:["Quantity: ",e.quantity]})]})]},e.id):(0,l.jsxs)("li",{children:["Product ID: ",e.id," (Not found)"]},e.id)}):e.productIds&&e.productIds.length>0?e.productIds.map(e=>{const s=N(e);return s?(0,l.jsxs)("li",{className:"product-list-item",children:[(0,l.jsx)("img",{src:s.imageUrl,alt:s.name,className:"product-image"}),(0,l.jsxs)("div",{className:"product-info",children:[(0,l.jsx)("div",{className:"product-name",children:s.name}),(0,l.jsxs)("div",{className:"product-id",children:["ID: ",s.id]}),(0,l.jsxs)("div",{className:"product-price",children:["Price: $",s.price.toFixed(2)," ",(0,l.jsx)("br",{})," Total: $",(1*s.price).toFixed(2)]}),(0,l.jsx)("div",{className:"product-quantity",children:"Quantity: 1"})]})]},e):(0,l.jsxs)("li",{children:["Product ID: ",e," (Not found)"]},e)}):(0,l.jsx)("li",{children:"No products found"})})}),(0,l.jsx)("td",{"data-label":"Shipping Details",children:e.shippingAddress?(0,l.jsxs)("div",{className:"shipping-details",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Full Name:"})," ",e.shippingAddress.fullName]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Phone Number:"})," ",e.shippingAddress.phoneNumber]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Building / House No / Floor / Street:"})," ",e.shippingAddress.building]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Colony / Suburb / Locality / Landmark:"})," ",e.shippingAddress.colony]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Region:"})," ",e.shippingAddress.region]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"City:"})," ",e.shippingAddress.city]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Area:"})," ",e.shippingAddress.area]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Address:"})," ",e.shippingAddress.address]})]}):(0,l.jsx)("div",{children:"No shipping details available."})}),(0,l.jsx)("td",{"data-label":"Order ID",children:e.id}),(0,l.jsx)("td",{"data-label":"Status",children:e.status}),(0,l.jsx)("td",{"data-label":"Items & Total",children:e.productDetails?"".concat(e.productDetails.reduce((e,s)=>e+(s.quantity||1),0)," items ($").concat(e.productDetails.reduce((e,s)=>{var t;return e+(s.quantity||1)*((null===(t=N(s.id))||void 0===t?void 0:t.price)||0)},0).toFixed(2),")"):e.productIds?"".concat(e.productIds.length," items ($").concat(e.productIds.reduce((e,s)=>{var t;return e+((null===(t=N(s))||void 0===t?void 0:t.price)||0)},0).toFixed(2),")"):"0 items ($0.00)"}),(0,l.jsx)("td",{"data-label":"Payment Method",children:e.paymentMethod||"N/A"}),(0,l.jsx)("td",{"data-label":"Actions",children:t||"processing"!==e.status?"canceled"===e.status?(0,l.jsx)("span",{className:"status-canceled",children:"Order Canceled"}):(0,l.jsxs)("span",{className:"status-delivered",children:["Order ",e.status.charAt(0).toUpperCase()+e.status.slice(1)]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("button",{className:"btn-cancel beautiful-btn",onClick:()=>(async e=>{try{(await fetch("http://localhost:5000/api/orders/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"canceled"})})).ok?(o(s=>s.map(s=>s.id===e?(0,r.A)((0,r.A)({},s),{},{status:"canceled"}):s)),y(e)):console.error("Failed to cancel order")}catch(s){console.error("Error canceling order:",s)}})(e.id),children:"Cancel Order"})})})]},e.id))})]})})]}):(0,l.jsx)("p",{children:"Please log in to view your orders."})}},1512:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});t(5043);var r=t(7677),n=t(579);const i=()=>(0,n.jsx)("section",{className:"profile-section orders-section-phone",children:(0,n.jsx)(r.default,{statusFilter:"canceled"})})},4605:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});t(5043),t(2407);var r=t(7677),n=t(579);const i=()=>(0,n.jsx)("section",{className:"profile-section orders-section-phone",children:(0,n.jsx)(r.default,{statusFilter:"returned"})})},5604:(e,s,t)=>{t.r(s),t.d(s,{default:()=>n});t(5043);var r=t(579);const n=()=>(0,r.jsxs)("section",{className:"profile-section payment-options",children:[(0,r.jsx)("h3",{children:"My Payment Options"}),(0,r.jsx)("p",{children:"Payment options content goes here."})]})},7346:(e,s,t)=>{t.d(s,{A:()=>d});var r=t(9379),n=t(5043),i=t(579);const d=e=>{let{initialAddress:s,onSave:t,onCancel:d}=e;const[l,a]=(0,n.useState)(s||{fullName:"",phoneNumber:"",building:"",colony:"",region:"",city:"",area:"",address:""}),o=e=>{const{name:s,value:t}=e.target;a(e=>(0,r.A)((0,r.A)({},e),{},{[s]:t}))};return(0,i.jsx)("div",{className:"address-card",children:(0,i.jsxs)("form",{className:"address-form",onSubmit:e=>{e.preventDefault(),t(l)},children:[(0,i.jsxs)("label",{children:["Full Name:",(0,i.jsx)("input",{type:"text",name:"fullName",value:l.fullName,onChange:o,required:!0})]}),(0,i.jsxs)("label",{children:["Phone Number:",(0,i.jsx)("input",{type:"text",name:"phoneNumber",value:l.phoneNumber,onChange:o,required:!0})]}),(0,i.jsxs)("label",{children:["Building / House No / Floor / Street:",(0,i.jsx)("input",{type:"text",name:"building",value:l.building,onChange:o})]}),(0,i.jsxs)("label",{children:["Colony / Suburb / Locality / Landmark:",(0,i.jsx)("input",{type:"text",name:"colony",value:l.colony,onChange:o})]}),(0,i.jsxs)("label",{children:["Region:",(0,i.jsx)("input",{type:"text",name:"region",value:l.region,onChange:o})]}),(0,i.jsxs)("label",{children:["City:",(0,i.jsx)("input",{type:"text",name:"city",value:l.city,onChange:o})]}),(0,i.jsxs)("label",{children:["Area:",(0,i.jsx)("input",{type:"text",name:"area",value:l.area,onChange:o})]}),(0,i.jsxs)("label",{children:["Address:",(0,i.jsx)("textarea",{name:"address",value:l.address,onChange:o})]}),(0,i.jsxs)("div",{className:"address-form-buttons",children:[(0,i.jsx)("button",{type:"submit",children:"Save"}),(0,i.jsx)("button",{type:"button",onClick:d,children:"Cancel"})]})]})})}},7414:(e,s,t)=>{t.r(s),t.d(s,{default:()=>y});var r=t(9379),n=t(5043),i=t(3216),d=t(5475),l=t(2407),a=t(579);var o=t(7346),c=t(167);const h=e=>{let{userPhoto:s,onLogout:r}=e;return(0,a.jsxs)("div",{className:"profile-image-logout-container",children:[(0,a.jsx)("img",{src:s||t(7872),alt:"Profile",className:"profile-image"}),(0,a.jsx)("button",{onClick:r,className:"profile-logout-button",children:"Logout"})]})};var u=t(9754),p=t(5604),x=t(7677),j=t(4605),m=t(1512),g=t(9041);const y=()=>{const[e,s]=(0,n.useState)(!1),[y,v]=(0,n.useState)(null),[b,f]=(0,n.useState)(!0),[N,C]=(0,n.useState)(!0),[A,k]=(0,n.useState)("myProfile"),[D,w]=(0,n.useState)(null),[P,S]=(0,n.useState)(!1),[O,F]=(0,n.useState)([]),[I,E]=(0,n.useState)(null),M=(0,l.xI)(),[L,R]=(0,n.useState)(window.innerWidth<=600),B=(0,i.Zp)();(0,n.useEffect)(()=>{const e=()=>{R(window.innerWidth<=600)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,n.useEffect)(()=>{const e=M.onAuthStateChanged(async e=>{e?(s(!0),v(e.photoURL),T(e.email)):(s(!1),v(null),w(null),F([]))});return()=>e()},[M]);const T=async e=>{try{const s=await fetch("http://localhost:5000/api/users"),t=(await s.json()).find(s=>s.email===e);t&&(w(t),t.addresses&&Array.isArray(t.addresses)?F(t.addresses):t.address?F([t.address]):F([]))}catch(s){console.error("Error fetching user details:",s)}},H=async()=>{try{await(0,l.CI)(M),s(!1),v(null),w(null),F([]),S(!1),E(null),window.location.href="/login"}catch(e){console.error("Logout error:",e)}},U=e=>{E(e),S(!0)},q=()=>{E(null),S(!0)},$=async e=>{if(!D||!D.id&&!D.uid)return void console.error("User details or user ID missing");const s=D.id||D.uid;let t=[...O];null===I?t.push(e):t[I]=e;try{const e=await fetch("http://localhost:5000/api/users/".concat(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,r.A)((0,r.A)({},D),{},{addresses:t}))});if(e.ok){const s=await e.json();w(s),F(t),S(!1),E(null)}else console.error("Failed to update address")}catch(n){console.error("Error updating address:",n)}},J=()=>{S(!1),E(null)},Y=(e,s)=>{L?B(s):k(e)};return(0,a.jsx)("div",{className:"profile-container",children:e?L?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"profile-phone-container",children:[(0,a.jsx)("img",{src:y||t(7872),alt:"Profile",className:"profile-image-phone"}),(0,a.jsxs)("div",{className:"phone-nav-buttons",children:[(0,a.jsx)("button",{className:"addressBook"===A?"active-phone-button":"phone-button",onClick:()=>Y("addressBook","/address-book"),children:"Address Book"}),(0,a.jsx)("button",{className:"paymentOptions"===A?"active-phone-button":"phone-button",onClick:()=>Y("paymentOptions","/payment-options"),children:"My Payment Options"}),(0,a.jsx)("button",{className:"myOrders"===A?"active-phone-button":"phone-button",onClick:()=>Y("myOrders","/my-orders"),children:"My Orders"}),(0,a.jsx)("button",{className:"myReturns"===A?"active-phone-button":"phone-button",onClick:()=>Y("myReturns","/my-returns"),children:"My Returns"}),(0,a.jsx)("button",{className:"myCancellations"===A?"active-phone-button":"phone-button",onClick:()=>Y("myCancellations","/my-cancellations"),children:"My Cancellations"}),(0,a.jsx)("button",{className:"history"===A?"active-phone-button":"phone-button",onClick:()=>Y("history","/history"),children:"History"})]}),(0,a.jsx)("button",{onClick:H,className:"profile-logout-button-phone",children:"Logout"})]}),(0,a.jsxs)("div",{className:"profile-phone-content",style:{marginTop:"20px"},children:["addressBook"===A&&(0,a.jsx)(u.default,{addresses:O,editingAddress:P,currentAddressIndex:I,handleEditClick:U,handleAddNewClick:q,handleSaveAddress:$,handleCancelEdit:J}),"paymentOptions"===A&&(0,a.jsx)(p.default,{}),"myOrders"===A&&(0,a.jsx)(x.default,{statusFilter:null}),"myReturns"===A&&(0,a.jsx)(j.default,{}),"myCancellations"===A&&(0,a.jsx)(m.default,{}),"history"===A&&(0,a.jsx)(g.default,{})]})]}):(0,a.jsxs)("div",{className:"profile-desktop-container",children:[(0,a.jsxs)("nav",{className:"profile-sidebar",children:[(0,a.jsxs)("div",{className:"sidebar-group",children:[(0,a.jsxs)("button",{className:"sidebar-toggle",onClick:()=>{f(!b)},children:["Personal Profile ",b?"-":"+"]}),b&&(0,a.jsxs)("ul",{className:"sidebar-list",children:[(0,a.jsx)("li",{children:(0,a.jsx)("button",{className:"myProfile"===A?"active-sidebar-button":"",onClick:()=>k("myProfile"),children:"My Profile"})}),(0,a.jsx)("li",{children:(0,a.jsx)("button",{className:"addressBook"===A?"active-sidebar-button":"",onClick:()=>k("addressBook"),children:"Address Book"})}),(0,a.jsx)("li",{children:(0,a.jsx)("button",{className:"paymentOptions"===A?"active-sidebar-button":"",onClick:()=>k("paymentOptions"),children:"My Payment Options"})})]})]}),(0,a.jsxs)("div",{className:"sidebar-group",children:[(0,a.jsxs)("button",{className:"sidebar-toggle",onClick:()=>{C(!N)},children:["My Orders ",N?"-":"+"]}),N&&(0,a.jsxs)("ul",{className:"sidebar-list",children:[(0,a.jsx)("li",{children:(0,a.jsx)("button",{className:"myOrders"===A?"active-sidebar-button":"",onClick:()=>k("myOrders"),children:"My Orders"})}),(0,a.jsx)("li",{children:(0,a.jsx)("button",{className:"myReturns"===A?"active-sidebar-button":"",onClick:()=>k("myReturns"),children:"My Returns"})}),(0,a.jsx)("li",{children:(0,a.jsx)("button",{className:"myCancellations"===A?"active-sidebar-button":"",onClick:()=>k("myCancellations"),children:"My Cancellations"})}),(0,a.jsx)("li",{children:(0,a.jsx)("button",{className:"history"===A?"active-sidebar-button":"",onClick:()=>k("history"),children:"History"})})]})]})]}),(0,a.jsxs)("main",{className:"profile-main",children:["myProfile"===A&&(0,a.jsx)("div",{className:"profile-left",children:(0,a.jsx)(h,{userPhoto:y,onLogout:H})}),(0,a.jsxs)("div",{className:"profile-right",children:["myProfile"===A&&(0,a.jsxs)("section",{className:"profile-section personal-profile",children:[(0,a.jsx)("h3",{children:"Personal Profile"}),(0,a.jsxs)("div",{className:"personal-info",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Username:"})," ",D?D.username:"Loading..."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Email:"})," ",D?D.email:"Loading..."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Phone Number:"})," ",D?D.phone:"Loading..."]})]})]}),"addressBook"===A&&(0,a.jsxs)("section",{className:"profile-section address-book",children:[(0,a.jsx)("h3",{children:"Address Book"}),P?(0,a.jsx)(o.A,{initialAddress:null!==I?O[I]:null,onSave:$,onCancel:J}):(0,a.jsxs)(a.Fragment,{children:[O.length>0?O.map((e,s)=>(0,a.jsxs)("div",{className:"address-box",children:[(0,a.jsx)("p",{children:(0,a.jsxs)("strong",{children:["Address ",s+1,":"]})}),(0,a.jsx)("p",{children:e.fullName}),(0,a.jsx)("p",{children:e.phoneNumber}),(0,a.jsxs)("p",{children:[e.building,", ",e.colony,", ",e.region,", ",e.city,", ",e.area]}),(0,a.jsx)("p",{children:e.address}),(0,a.jsx)("button",{className:"edit-address-button",onClick:()=>U(s),children:"Edit"})]},s)):(0,a.jsx)("p",{children:"No addresses available"}),(0,a.jsx)("button",{onClick:q,children:"Add New Address"})]})]}),"paymentOptions"===A&&(0,a.jsxs)("section",{className:"profile-section payment-options",children:[(0,a.jsx)("h3",{children:"My Payment Options"}),(0,a.jsx)("p",{children:"Payment options content goes here."})]}),("myOrders"===A||"myReturns"===A||"myCancellations"===A||"history"===A)&&(0,a.jsx)("section",{className:"profile-section orders-section",children:(0,a.jsx)(c.default,{statusFilter:"myOrders"===A?null:"myReturns"===A?"returned":"myCancellations"===A?"canceled":"history"===A?"history":null})})]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"You are not logged in."}),(0,a.jsx)(d.N_,{to:"/login",className:"profile-login-link",children:"Login"}),(0,a.jsx)(d.N_,{to:"/register",className:"profile-register-link",children:"Register"})]})})}},7677:(e,s,t)=>{t.r(s),t.d(s,{default:()=>l});var r=t(9379),n=t(5043),i=t(2407),d=t(579);const l=e=>{let{statusFilter:s}=e;const[t,l]=(0,n.useState)([]),[a,o]=(0,n.useState)([]),[c,h]=(0,n.useState)(!0),u=(0,i.xI)(),[p,x]=(0,n.useState)(null);(0,n.useEffect)(()=>{const e=u.onAuthStateChanged(e=>{x(e)});return()=>e()},[u]),(0,n.useEffect)(()=>{p?(j(p.uid),m()):(l([]),h(!1))},[p,s]);const j=async(e,t)=>{try{let r="http://localhost:5000/api/orders?userId=".concat(e);const n=await fetch(r),i=await n.json();let d=i;if(t)d="delivered"===t?i.filter(e=>"delivered"===e.status):"canceled"===t?i.filter(e=>"canceled"===e.status):i;else if(s)if("history"===s){const e=["canceled","delivered"];d=i.filter(s=>e.includes(s.status))}else d="canceled"===s?i.filter(e=>"canceled"===e.status):"delivered"===s?i.filter(e=>"delivered"===e.status):i.filter(e=>e.status===s);else d=i.filter(e=>"canceled"!==e.status&&"delivered"!==e.status);l(d),h(!1)}catch(r){console.error("Error fetching user orders:",r),h(!1)}},m=async()=>{try{const e=await fetch("http://localhost:5000/api/products"),s=await e.json();o(s)}catch(e){console.error("Error fetching products:",e)}};return p?c?(0,d.jsx)("p",{children:"Loading your orders..."}):0===t.length?(0,d.jsx)("p",{children:"You have no orders."}):(0,d.jsxs)("div",{className:"orders-list-phone",children:[(0,d.jsxs)("h1",{children:["returned"===s&&"My Returns","canceled"===s&&"My Cancellations","history"===s&&"Order History",!s&&"My Orders"]}),(0,d.jsxs)("div",{className:"filter-container-phone",children:[(0,d.jsx)("label",{htmlFor:"orderFilterPhone",children:"Filter Orders: "}),(0,d.jsxs)("select",{id:"orderFilterPhone",onChange:e=>{const s=e.target.value;"dateAsc"===s?l(e=>[...e].sort((e,s)=>new Date(e.orderDate)-new Date(s.orderDate))):"dateDesc"===s?l(e=>[...e].sort((e,s)=>new Date(s.orderDate)-new Date(e.orderDate))):"delivered"===s?j(p.uid,"delivered"):"canceled"===s?j(p.uid,"canceled"):j(p.uid)},children:[(0,d.jsx)("option",{value:"all",children:"All"}),(0,d.jsx)("option",{value:"delivered",children:"Delivered"}),(0,d.jsx)("option",{value:"canceled",children:"Canceled"}),(0,d.jsx)("option",{value:"dateAsc",children:"Date Ascending"}),(0,d.jsx)("option",{value:"dateDesc",children:"Date Descending"})]})]}),t.map(e=>(0,d.jsxs)("div",{className:"order-card-phone",children:[(0,d.jsx)("div",{className:"order-products-phone",children:e.productIds&&e.productIds.length>0?e.productIds.map(e=>{const s=(t=e,a.find(e=>e.id===t));var t;return s?(0,d.jsxs)("div",{className:"product-list-item-phone",children:[(0,d.jsx)("img",{src:s.imageUrl,alt:s.name,className:"product-image-phone"}),(0,d.jsxs)("div",{className:"product-info-phone",children:[(0,d.jsx)("div",{className:"product-name-phone",children:s.name}),(0,d.jsx)("div",{className:"product-id-phone",children:s.id})]})]},e):(0,d.jsxs)("div",{children:["Product ID: ",e," (Not found)"]},e)}):(0,d.jsx)("div",{children:"No products found"})}),(0,d.jsx)("div",{className:"shipping-details-phone",children:e.shippingAddress?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Full Name:"})," ",e.shippingAddress.fullName]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Phone Number:"})," ",e.shippingAddress.phoneNumber]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Building / House No / Floor / Street:"})," ",e.shippingAddress.building]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Colony / Suburb / Locality / Landmark:"})," ",e.shippingAddress.colony]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Region:"})," ",e.shippingAddress.region]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"City:"})," ",e.shippingAddress.city]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Area:"})," ",e.shippingAddress.area]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Address:"})," ",e.shippingAddress.address]})]}):(0,d.jsx)("div",{children:"No shipping details available."})}),(0,d.jsxs)("div",{className:"order-meta-phone",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Order ID:"})," ",e.id]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Status:"})," ","confirmed"===e.status?"processing":e.status]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Price:"})," $",e.totalPrice?e.totalPrice.toFixed(2):"N/A"]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Payment Method:"})," ",e.paymentMethod||"N/A"]}),(0,d.jsx)("div",{className:"order-actions-phone",children:"processing"===e.status?(0,d.jsx)("button",{className:"btn-cancel-phone",onClick:()=>(async e=>{try{(await fetch("http://localhost:5000/api/orders/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"canceled"})})).ok?l(s=>s.map(s=>s.id===e?(0,r.A)((0,r.A)({},s),{},{status:"canceled"}):s)):console.error("Failed to cancel order")}catch(s){console.error("Error canceling order:",s)}})(e.id),children:"Cancel Order"}):"canceled"===e.status?(0,d.jsx)("span",{className:"status-canceled-phone",children:"Order Canceled"}):(0,d.jsxs)("span",{className:"status-delivered-phone",children:["Order ",e.status.charAt(0).toUpperCase()+e.status.slice(1)]})})]})]},e.id))]}):(0,d.jsx)("p",{children:"Please log in to view your orders."})}},7872:(e,s,t)=>{e.exports=t.p+"static/media/profile.73011e17ea1d1579221c.png"},9041:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});t(5043);var r=t(7677),n=t(579);const i=()=>(0,n.jsx)("section",{className:"profile-section orders-section-phone",children:(0,n.jsx)(r.default,{statusFilter:"history"})})},9754:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});t(5043);var r=t(7346),n=t(579);const i=e=>{let{addresses:s=[],editingAddress:t=!1,currentAddressIndex:i=null,handleEditClick:d=()=>{},handleAddNewClick:l=()=>{},handleSaveAddress:a=()=>{},handleCancelEdit:o=()=>{}}=e;return(0,n.jsx)("section",{className:"profile-section address-book",children:t?(0,n.jsx)(r.A,{initialAddress:null!==i?s[i]:null,onSave:a,onCancel:o}):(0,n.jsxs)(n.Fragment,{children:[s.length>0?s.map((e,s)=>(0,n.jsxs)("div",{className:"address-box",children:[(0,n.jsx)("p",{children:(0,n.jsxs)("strong",{children:["Address ",s+1,":"]})}),(0,n.jsx)("p",{children:e.fullName}),(0,n.jsx)("p",{children:e.phoneNumber}),(0,n.jsxs)("p",{children:[e.building,", ",e.colony,", ",e.region,", ",e.city,", ",e.area]}),(0,n.jsx)("p",{children:e.address}),(0,n.jsx)("button",{className:"edit-address-button",onClick:()=>d(s),children:"Edit"})]},s)):(0,n.jsx)("p",{children:"No addresses available"}),(0,n.jsx)("button",{onClick:l,children:"Add New Address"})]})})}}}]);
//# sourceMappingURL=414.d09804d1.chunk.js.map