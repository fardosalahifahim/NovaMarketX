"use strict";(self.webpackChunkanimespring=self.webpackChunkanimespring||[]).push([[403],{5403:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});var c=t(5043),r=t(3216),o=t(5475),a=t(579);const i=()=>{const e=new URLSearchParams((0,r.zy)().search),s=e.get("q")||"",t=e.get("tags")||"",[i,n]=(0,c.useState)([]),[l,d]=(0,c.useState)([]);return(0,c.useEffect)(()=>{(async()=>{try{const e=await fetch("http://localhost:5000/api/products"),s=await e.json();n(s)}catch(e){console.error("Error fetching products:",e)}})()},[]),(0,c.useEffect)(()=>{let e=i;if(t){const s=t.split(",").map(e=>e.trim().toLowerCase());e=i.filter(e=>e.tags&&e.tags.some(e=>s.some(s=>e.toLowerCase().includes(s))))}else if(s){const t=s.toLowerCase();e=i.map(e=>{let s=0;e.name.toLowerCase().includes(t)&&(s+=3);e.tags&&e.tags.some(e=>e.toLowerCase().includes(t))&&(s+=2);return e.description&&e.description.toLowerCase().includes(t)&&(s+=1),{product:e,score:s}}).filter(e=>e.score>0).sort((e,s)=>s.score-e.score).map(e=>e.product)}d(e)},[i,s,t]),(0,a.jsxs)("div",{className:"product-list-container",children:[s?(0,a.jsxs)("h2",{children:['Search Results for "',s,'"']}):t?(0,a.jsxs)("h2",{style:{display:"none"},children:['Looking for products with tags: "',t,'"']}):(0,a.jsx)("h2",{children:"All Products"}),0===l.length?(0,a.jsx)("p",{children:"No products found."}):(0,a.jsx)("ul",{className:"product-list-grid",children:l.map(e=>(0,a.jsx)("li",{className:"product-card",children:(0,a.jsxs)(o.N_,{to:"/product/".concat(encodeURIComponent(e.name),"?id=").concat(e.id),children:[(0,a.jsx)("img",{src:e.imageUrl,alt:e.name,className:"product-image"}),(0,a.jsx)("h3",{children:e.name}),(0,a.jsxs)("p",{className:"price",children:["$",e.price.toFixed(2)]})]})},e.id))})]})}}}]);
//# sourceMappingURL=403.e5affdac.chunk.js.map