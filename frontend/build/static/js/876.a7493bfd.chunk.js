"use strict";(self.webpackChunkanimespring=self.webpackChunkanimespring||[]).push([[876],{1876:(e,s,t)=>{t.r(s),t.d(s,{default:()=>l});var i=t(5043),a=t(6471),n=t(9379),c=t(579);const o=e=>{let{onClose:s}=e;const{notificationSettings:t,updateNotificationSettings:o,NOTIFICATION_CATEGORIES:l,NOTIFICATION_PRIORITIES:r}=(0,a.hN)(),[d,h]=(0,i.useState)(t),u=e=>{switch(e){case l.ORDERS:return"\ud83d\udce6";case l.CART:return"\ud83d\uded2";case l.WISHLIST:return"\u2764\ufe0f";case l.SYSTEM:return"\u2699\ufe0f";case l.PROMOTIONS:return"\ud83c\udf89";case l.SECURITY:return"\ud83d\udd12";default:return"\ud83d\udd14"}},m=e=>{switch(e){case l.ORDERS:return"Order updates, shipping status, delivery confirmations";case l.CART:return"Cart changes, item availability, price updates";case l.WISHLIST:return"Wishlist item availability, price drops";case l.SYSTEM:return"System maintenance, feature updates, account changes";case l.PROMOTIONS:return"Sales, discounts, special offers";case l.SECURITY:return"Login alerts, password changes, security updates";default:return""}};return(0,c.jsx)("div",{className:"notification-settings-overlay",children:(0,c.jsxs)("div",{className:"notification-settings-modal",children:[(0,c.jsxs)("div",{className:"settings-header",children:[(0,c.jsx)("h3",{children:"Notification Settings"}),(0,c.jsx)("button",{className:"close-btn",onClick:s,children:"\xd7"})]}),(0,c.jsxs)("div",{className:"settings-content",children:[(0,c.jsxs)("div",{className:"settings-section",children:[(0,c.jsx)("h4",{children:"Sound Preferences"}),(0,c.jsxs)("div",{className:"setting-item",children:[(0,c.jsxs)("div",{className:"setting-info",children:[(0,c.jsx)("label",{htmlFor:"sound-toggle",children:"Enable notification sounds"}),(0,c.jsx)("p",{className:"setting-description",children:"Play audio alerts when notifications are received"})]}),(0,c.jsxs)("label",{className:"toggle-switch",children:[(0,c.jsx)("input",{id:"sound-toggle",type:"checkbox",checked:d.soundEnabled,onChange:()=>{h(e=>(0,n.A)((0,n.A)({},e),{},{soundEnabled:!e.soundEnabled}))}}),(0,c.jsx)("span",{className:"toggle-slider"})]})]})]}),(0,c.jsxs)("div",{className:"settings-section",children:[(0,c.jsx)("h4",{children:"Notification Categories"}),(0,c.jsx)("p",{className:"section-description",children:"Choose which types of notifications you want to receive"}),Object.values(l).map(e=>(0,c.jsxs)("div",{className:"setting-item",children:[(0,c.jsxs)("div",{className:"setting-info",children:[(0,c.jsxs)("label",{htmlFor:"category-".concat(e),children:[u(e)," ",e.charAt(0).toUpperCase()+e.slice(1)]}),(0,c.jsx)("p",{className:"setting-description",children:m(e)})]}),(0,c.jsxs)("label",{className:"toggle-switch",children:[(0,c.jsx)("input",{id:"category-".concat(e),type:"checkbox",checked:d.categories[e],onChange:()=>(e=>{h(s=>(0,n.A)((0,n.A)({},s),{},{categories:(0,n.A)((0,n.A)({},s.categories),{},{[e]:!s.categories[e]})}))})(e)}),(0,c.jsx)("span",{className:"toggle-slider"})]})]},e))]}),(0,c.jsxs)("div",{className:"settings-section",children:[(0,c.jsx)("h4",{children:"Notification Priorities"}),(0,c.jsx)("p",{className:"section-description",children:"Choose which priority levels you want to receive"}),Object.values(r).map(e=>(0,c.jsxs)("div",{className:"setting-item",children:[(0,c.jsxs)("div",{className:"setting-info",children:[(0,c.jsxs)("label",{htmlFor:"priority-".concat(e),children:[e.charAt(0).toUpperCase()+e.slice(1)," Priority"]}),(0,c.jsxs)("p",{className:"setting-description",children:["high"===e&&"Critical alerts, security issues, urgent updates","medium"===e&&"Important updates, order status changes","low"===e&&"Promotional content, general information"]})]}),(0,c.jsxs)("label",{className:"toggle-switch",children:[(0,c.jsx)("input",{id:"priority-".concat(e),type:"checkbox",checked:d.priorities[e],onChange:()=>(e=>{h(s=>(0,n.A)((0,n.A)({},s),{},{priorities:(0,n.A)((0,n.A)({},s.priorities),{},{[e]:!s.priorities[e]})}))})(e)}),(0,c.jsx)("span",{className:"toggle-slider"})]})]},e))]})]}),(0,c.jsxs)("div",{className:"settings-footer",children:[(0,c.jsx)("button",{className:"reset-btn",onClick:()=>{const e={soundEnabled:!0,categories:{[l.ORDERS]:!0,[l.CART]:!0,[l.WISHLIST]:!0,[l.SYSTEM]:!0,[l.PROMOTIONS]:!1,[l.SECURITY]:!0},priorities:{[r.LOW]:!0,[r.MEDIUM]:!0,[r.HIGH]:!0}};h(e)},children:"Reset to Defaults"}),(0,c.jsxs)("div",{className:"footer-actions",children:[(0,c.jsx)("button",{className:"cancel-btn",onClick:s,children:"Cancel"}),(0,c.jsx)("button",{className:"save-btn",onClick:()=>{o(d),s&&s()},children:"Save Settings"})]})]})]})})},l=()=>{const[e,s]=(0,i.useState)(!1),[t,n]=(0,i.useState)(!1),[l,r]=(0,i.useState)("all"),[d,h]=(0,i.useState)(!1),[u,m]=(0,i.useState)(null),[g,f]=(0,i.useState)(""),[x,N]=(0,i.useState)(!1),j=(0,i.useRef)(null),{notifications:p,clearNotification:v,clearAllNotifications:b,markAsRead:C,markAllAsRead:S,getUnreadCount:y,userId:k,isConnected:w}=(0,a.hN)();(0,i.useEffect)(()=>{const e=e=>{j.current&&!j.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const A=e=>{switch(e){case"success":return"\u2713";case"error":return"\u2715";case"warning":return"\u26a0";case"info":return"\u2139";default:return"\ud83d\udd14"}},I=e=>{switch(e){case"orders":return"\ud83d\udce6";case"cart":return"\ud83d\uded2";case"wishlist":return"\u2764\ufe0f";case"favorites":return"\u2b50";case"promotions":return"\ud83c\udf89";case"security":return"\ud83d\udd12";default:return"\ud83d\udd14"}},T=e=>{switch(e){case"high":return"#ff4757";case"low":return"#2ed573";default:return"#3742fa"}},R=(0,i.useCallback)(()=>{const e=new Set(["all"]);return p.forEach(s=>{s.category&&e.add(s.category)}),Array.from(e).sort()},[p]),E=(0,i.useCallback)(()=>"all"===l?p:p.filter(e=>e.category===l),[p,l]),O=((0,i.useCallback)(e=>"all"===e?p.length:p.filter(s=>s.category===e).length,[p]),(0,i.useCallback)(e=>"all"===e?y():p.filter(s=>s.category===e&&!s.read).length,[p,y])),M=E(),L=R();return(0,c.jsxs)("div",{className:"notification-dropdown",ref:j,children:[(0,c.jsxs)("button",{className:"notification-bell",onClick:()=>{s(!e)},title:"Notifications",children:[(0,c.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z",fill:"currentColor"})}),y()>0&&(0,c.jsx)("span",{className:"notification-count",children:y()}),w&&(0,c.jsx)("span",{className:"connection-indicator",title:"Real-time connected",children:"\u25cf"})]}),e&&(0,c.jsxs)("div",{className:"notification-dropdown-menu",children:[(0,c.jsxs)("div",{className:"notification-header",children:[(0,c.jsx)("h4",{children:"Notifications"}),(0,c.jsxs)("div",{className:"header-actions",children:[(0,c.jsx)("button",{className:"settings-btn",onClick:()=>{n(!0),s(!1)},title:"Notification Settings",children:"\u2699\ufe0f"}),y()>0&&(0,c.jsx)("button",{className:"mark-all-read-btn ".concat(x?"loading":""),onClick:()=>{const e=y();e>5?(f("Mark ".concat(e," notifications as read?")),m(()=>()=>{N(!0),S(),setTimeout(()=>{N(!1),s(!1)},500)}),h(!0)):(N(!0),S(),setTimeout(()=>{N(!1),s(!1)},500))},disabled:x,title:"Mark all as read",children:x?"Marking...":"Mark All Read"}),p.length>0&&(0,c.jsx)("button",{className:"clear-all-btn",onClick:()=>{f("Are you sure you want to clear all ".concat(p.length," notifications? This action cannot be undone.")),m(()=>()=>{b(),s(!1)}),h(!0)},children:"Clear All"})]})]}),L.length>1&&(0,c.jsx)("div",{className:"category-filter",children:L.map(e=>(0,c.jsxs)("button",{className:"category-filter-btn ".concat(l===e?"active":""),onClick:()=>(e=>{r(e)})(e),title:"".concat(e," notifications"),children:[I(e)," ",e,O(e)>0&&(0,c.jsx)("span",{className:"category-count",children:O(e)})]},e))}),(0,c.jsx)("div",{className:"notification-list",children:0===M.length?(0,c.jsx)("div",{className:"no-notifications",children:"all"===l?"No notifications":"No ".concat(l," notifications")}):M.map(e=>(0,c.jsxs)("div",{className:"notification-item notification-".concat(e.type," ").concat(e.read?"":"unread"),onClick:()=>{var s;(s=e).read||C(s.id)},style:{borderLeft:"4px solid ".concat(T(e.priority))},children:[(0,c.jsx)("div",{className:"notification-icon",children:A(e.type)}),(0,c.jsxs)("div",{className:"notification-category-time",children:[(0,c.jsxs)("span",{className:"notification-category",children:[I(e.category)," ",e.category]}),(0,c.jsxs)("div",{className:"notification-date-time",children:[(0,c.jsx)("small",{className:"notification-date",children:e.timestamp.toLocaleDateString()}),(0,c.jsx)("small",{className:"notification-time",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})}),(0,c.jsx)("small",{className:"notification-ampm",children:e.timestamp.toLocaleTimeString([],{hour12:!0}).slice(-2)})]}),!e.read&&(0,c.jsx)("span",{className:"unread-indicator",children:"\u25cf"})]}),(0,c.jsx)("p",{className:"notification-message",children:e.message}),(0,c.jsx)("div",{className:"notification-content",children:e.actions&&e.actions.length>0&&(0,c.jsx)("div",{className:"notification-actions",children:e.actions.map((s,t)=>(0,c.jsx)("button",{className:"action-btn action-".concat(s.type),onClick:t=>{t.stopPropagation(),((e,s)=>{e.onClick&&e.onClick(),C(s)})(s,e.id)},children:s.label},t))})}),(0,c.jsx)("button",{className:"notification-close",onClick:s=>{var t;s.stopPropagation(),t=e.id,v(t)},title:"Dismiss notification",children:"\xd7"})]},e.id))})]}),t&&(0,c.jsx)(o,{onClose:()=>n(!1)}),d&&(0,c.jsx)("div",{className:"confirm-dialog-overlay",children:(0,c.jsxs)("div",{className:"confirm-dialog",children:[(0,c.jsx)("h3",{children:"Confirm Action"}),(0,c.jsx)("p",{children:g}),(0,c.jsxs)("div",{className:"confirm-dialog-actions",children:[(0,c.jsx)("button",{className:"confirm-btn",onClick:()=>{u&&u(),h(!1),m(null),f("")},children:"Confirm"}),(0,c.jsx)("button",{className:"cancel-btn",onClick:()=>{h(!1),m(null),f("")},children:"Cancel"})]})]})})]})}}}]);
//# sourceMappingURL=876.a7493bfd.chunk.js.map