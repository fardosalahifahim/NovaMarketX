{"version":3,"file":"static/js/271.038455c7.chunk.js","mappings":"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","sources":["components/Sidebar.js","utils/textUtils.js","components/ProductListPhone.js","components/SkeletonProductCard.js","components/LazyImage.js","utils/locationUtils.js","components/ProductList.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { useFavorites } from '../contexts/FavoritesContext';\r\nimport './Sidebar.css';\r\n\r\nconst Sidebar = () => {\r\n  const [featuredProducts, setFeaturedProducts] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const sidebarRef = useRef(null);\r\n  const location = useLocation();\r\n  const { favorites } = useFavorites();\r\n\r\n  // Check if we're on the favorites page\r\n  const isFavoritesPage = location.pathname === '/favorites';\r\n\r\n  useEffect(() => {\r\n    fetchFeaturedProducts();\r\n    adjustSidebarHeight();\r\n    \r\n    // Add resize listener to adjust height when window size changes\r\n    window.addEventListener('resize', adjustSidebarHeight);\r\n    \r\n    return () => {\r\n      window.removeEventListener('resize', adjustSidebarHeight);\r\n    };\r\n  }, []);\r\n\r\n  const adjustSidebarHeight = () => {\r\n    const sidebar = sidebarRef.current;\r\n    const productListContainer = document.querySelector('.product-list-container');\r\n\r\n    if (sidebar && productListContainer) {\r\n      // Set sidebar height to match product list container height\r\n      const productListHeight = productListContainer.offsetHeight;\r\n      sidebar.style.height = `${productListHeight}px`;\r\n      \r\n      // Calculate how many products can fit in the available space\r\n      calculateAndLoadProducts(productListHeight);\r\n    }\r\n  };\r\n\r\n  const calculateAndLoadProducts = async (availableHeight) => {\r\n    try {\r\n      const productListRes = await fetch('http://localhost:5000/api/products');\r\n      const allProducts = await productListRes.json();\r\n      \r\n      // Calculate available space for products (subtract categories section height)\r\n      const categoriesSectionHeight = 300; // Approximate height of categories section\r\n      const productsAvailableHeight = availableHeight - categoriesSectionHeight - 100; // Additional padding\r\n      \r\n      // Calculate how many products can fit (each product item is ~80px tall)\r\n      const productItemHeight = 80;\r\n      const maxProductsToShow = Math.floor(productsAvailableHeight / productItemHeight);\r\n      \r\n      // Ensure we show at least 1 product and at most all available products\r\n      const productsToShow = Math.max(1, Math.min(allProducts.length, maxProductsToShow));\r\n      \r\n      // Shuffle products randomly to get different ones\r\n      const shuffledProducts = [...allProducts].sort(() => Math.random() - 0.5);\r\n      \r\n      // Select the number of products to show\r\n      const selectedProducts = shuffledProducts.slice(0, productsToShow);\r\n      \r\n      setFeaturedProducts(selectedProducts);\r\n    } catch (error) {\r\n      console.error('Error calculating and loading products:', error);\r\n    }\r\n  };\r\n\r\n  const loadMoreFeaturedProducts = async () => {\r\n    try {\r\n      const productListRes = await fetch('http://localhost:5000/api/products');\r\n      const allProducts = await productListRes.json();\r\n      const startIndex = (currentPage - 1) * 60;\r\n      const endIndex = startIndex + 30;\r\n      \r\n      if (startIndex >= allProducts.length) {\r\n        setHasMore(false);\r\n        return;\r\n      }\r\n\r\n      const newProducts = allProducts.slice(startIndex, endIndex);\r\n      setFeaturedProducts(prevProducts => [...prevProducts, ...newProducts]);\r\n      setCurrentPage(prevPage => prevPage + 1);\r\n      \r\n      // Check if there are more products to load\r\n      if (endIndex >= allProducts.length) {\r\n        setHasMore(false);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading more featured products:', error);\r\n    }\r\n  };\r\n\r\n  const fetchFeaturedProducts = async () => {\r\n    try {\r\n      const productListRes = await fetch('http://localhost:5000/api/products');\r\n      const allProducts = await productListRes.json();\r\n      \r\n      // Load first 60 products initially\r\n      const initialProducts = allProducts.slice(0, 60);\r\n      setFeaturedProducts(initialProducts);\r\n      setCurrentPage(2); // Set to page 2 since we already loaded first 60\r\n      setHasMore(allProducts.length > 60);\r\n      \r\n      // Adjust sidebar height after products are loaded\r\n      setTimeout(adjustSidebarHeight, 100);\r\n    } catch (error) {\r\n      console.error('Error fetching products:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <aside className=\"sidebar\" ref={sidebarRef}>\r\n      <div className=\"sidebar-section\">\r\n        <h3>Categories</h3>\r\n        <ul className=\"category-list\">\r\n          <li><Link to=\"/category/Fashion\">Fashion</Link></li>\r\n          <li><Link to=\"/category/Electronics\">Electronics</Link></li>\r\n          <li><Link to=\"/category/Home%20%26%20Garden\">Home & Garden</Link></li>\r\n          <li><Link to=\"/category/Books\">Books</Link></li>\r\n          <li><Link to=\"/category/Sports%20%26%20Outdoors\">Sports & Outdoors</Link></li>\r\n          <li><Link to=\"/category/Health%20%26%20Beauty\">Health & Beauty</Link></li>\r\n          <li><Link to=\"/category/Food%20%26%20Grocery\">Food & Grocery</Link></li>\r\n          <li><Link to=\"/category/Toys%20%26%20Games\">Toys & Games</Link></li>\r\n          <li><Link to=\"/category/Automotive\">Automotive</Link></li>\r\n        </ul>\r\n      </div>\r\n      <div className=\"sidebar-section\">\r\n        <h3>{isFavoritesPage ? 'Your Favorites' : 'Featured Products'}</h3>\r\n        <ul className=\"best-sellers-list\">\r\n          {isFavoritesPage ? (\r\n            // Show only 5 favorite products\r\n            favorites.length === 0 ? (\r\n              <li>No favorites yet</li>\r\n            ) : (\r\n              favorites.slice(0, 5).map(product => (\r\n                <li key={product.id}>\r\n                  <Link to={`/product/${encodeURIComponent(product.name)}?id=${product.id}`} className=\"featured-product-link\">\r\n                    <div className=\"image-container\">\r\n                      <img src={product.imageUrl} alt={product.name} />\r\n                      {product.tier && (() => {\r\n                        if (product.tier === 'Premium') {\r\n                          return <span className=\"premium-badge\">Premium</span>;\r\n                        } else if (product.tier === 'Cheap') {\r\n                          return <span className=\"cheap-badge\">Cheap</span>;\r\n                        } else if (product.tier === 'Medium') {\r\n                          return <span className=\"medium-badge\">Medium</span>;\r\n                        }\r\n                      })()}\r\n                    </div>\r\n                    <div className=\"best-seller-info\">\r\n                      <span>{product.name}</span>\r\n                      <span className=\"price\">\r\n                        {product.previousPrice && product.previousPrice > product.price && (\r\n                          <span className=\"previous-price\">${product.previousPrice.toFixed(2)}</span>\r\n                        )}\r\n                        ${product.price.toFixed(2)}\r\n                      </span>\r\n                    </div>\r\n                  </Link>\r\n                </li>\r\n              ))\r\n            )\r\n          ) : (\r\n            // Show featured products for other pages\r\n            featuredProducts.length === 0 ? (\r\n              <li>Loading...</li>\r\n            ) : (\r\n              featuredProducts.map(product => (\r\n                <li key={product.id}>\r\n                  <Link to={`/product/${encodeURIComponent(product.name)}?id=${product.id}`} className=\"featured-product-link\">\r\n                    <div className=\"image-container\">\r\n                      <img src={product.imageUrl} alt={product.name} />\r\n                      {product.tier && (() => {\r\n                        if (product.tier === 'Premium') {\r\n                          return <span className=\"premium-badge\">Premium</span>;\r\n                        } else if (product.tier === 'Cheap') {\r\n                          return <span className=\"cheap-badge\">Cheap</span>;\r\n                        } else if (product.tier === 'Medium') {\r\n                          return <span className=\"medium-badge\">Medium</span>;\r\n                        }\r\n                      })()}\r\n                    </div>\r\n                    <div className=\"best-seller-info\">\r\n                      <span>{product.name}</span>\r\n                      <span className=\"price\">\r\n                        {product.previousPrice && product.previousPrice > product.price && (\r\n                          <span className=\"previous-price\">${product.previousPrice.toFixed(2)}</span>\r\n                        )}\r\n                        ${product.price.toFixed(2)}\r\n                      </span>\r\n                    </div>\r\n                  </Link>\r\n                </li>\r\n              ))\r\n            )\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","// Utility function to truncate text to a specified length\r\nexport const truncateText = (text, maxLength = 100) => {\r\n  if (!text || typeof text !== 'string') return '';\r\n  \r\n  if (text.length <= maxLength) return text;\r\n  \r\n  return text.substring(0, maxLength) + '...';\r\n};\r\n\r\n// Utility function to truncate product description specifically for home page\r\nexport const truncateProductDescription = (description, maxLength = 80) => {\r\n  return truncateText(description, maxLength);\r\n};\r\n\r\n// Utility function to truncate product name specifically for home page\r\nexport const truncateProductName = (name, maxLength = 40) => {\r\n  return truncateText(name, maxLength);\r\n};\r\n","import React, { useState, useEffect, useRef, useCallback, useContext } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport Sidebar from './Sidebar';\r\nimport './ProductListPhone.css';\r\nimport './Favorites.css';\r\nimport { truncateProductName } from '../utils/textUtils';\r\nimport { CartContext } from '../contexts/CartContext';\r\nimport { useNotification } from '../contexts/NotificationContext';\r\nimport { useFavorites } from '../contexts/FavoritesContext';\r\n\r\nconst ProductListPhone = ({ products: initialProducts, location }) => {\r\n  const [products, setProducts] = useState(initialProducts.slice(0, 12));\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [hasMore, setHasMore] = useState(initialProducts.length > 12);\r\n  const [lastStockUpdate, setLastStockUpdate] = useState(null);\r\n  const observer = useRef();\r\n  const { addToCart } = useContext(CartContext);\r\n  const { showNotification } = useNotification();\r\n  const { addToFavorites, removeFromFavorites, isFavorite, requireAuthForFavorites } = useFavorites();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // Always limit to 12 products for mobile initially\r\n    setProducts(initialProducts.slice(0, 12));\r\n    setHasMore(initialProducts.length > 12);\r\n  }, [initialProducts]);\r\n\r\n  // Function to fetch current stock data for products\r\n  const fetchCurrentStockData = useCallback(async () => {\r\n    if (products.length === 0) return;\r\n\r\n    try {\r\n      const updatedProducts = await Promise.all(\r\n        products.map(async (product) => {\r\n          try {\r\n            const response = await fetch(`http://localhost:5000/api/products/id/${product.id}`);\r\n            if (response.ok) {\r\n              const currentProductData = await response.json();\r\n              // Update stock, maxBuyers, and maxPerPerson with current data\r\n              return {\r\n                ...product,\r\n                stock: currentProductData.stock,\r\n                maxBuyers: currentProductData.maxBuyers,\r\n                maxPerPerson: currentProductData.maxPerPerson,\r\n                outOfStockDate: currentProductData.outOfStockDate\r\n              };\r\n            }\r\n            return product; // Return original if fetch fails\r\n          } catch (error) {\r\n            console.error(`Error fetching stock data for product ${product.id}:`, error);\r\n            return product; // Return original if fetch fails\r\n          }\r\n        })\r\n      );\r\n\r\n      setProducts(updatedProducts);\r\n      setLastStockUpdate(new Date().toISOString());\r\n      console.log('Updated mobile products with real-time stock data');\r\n    } catch (error) {\r\n      console.error('Error updating stock data:', error);\r\n    }\r\n  }, [products]);\r\n\r\n  // Update stock data periodically (every 30 seconds)\r\n  useEffect(() => {\r\n    if (products.length === 0) return;\r\n\r\n    // Initial stock update\r\n    fetchCurrentStockData();\r\n\r\n    // Set up periodic updates\r\n    const intervalId = setInterval(fetchCurrentStockData, 30000); // 30 seconds\r\n\r\n    return () => clearInterval(intervalId);\r\n  }, [products.length, fetchCurrentStockData]);\r\n\r\n  const loadMoreProducts = useCallback(() => {\r\n    setIsLoading(true);\r\n    setTimeout(() => {\r\n      const currentLength = products.length;\r\n      const nextProducts = initialProducts.slice(0, currentLength + 8);\r\n      setProducts(nextProducts);\r\n      setHasMore(nextProducts.length < initialProducts.length);\r\n      setIsLoading(false);\r\n    }, 300);\r\n  }, [products.length, initialProducts]);\r\n\r\n  const lastProductElementRef = useCallback(node => {\r\n    if (isLoading) return;\r\n    if (observer.current) observer.current.disconnect();\r\n    observer.current = new IntersectionObserver(entries => {\r\n      if (entries[0].isIntersecting && hasMore) {\r\n        loadMoreProducts();\r\n      }\r\n    });\r\n    if (node) observer.current.observe(node);\r\n  }, [isLoading, hasMore, loadMoreProducts]);\r\n\r\n  const handleAddToCart = (e, product) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    addToCart({\r\n      id: product.id,\r\n      name: product.name,\r\n      price: product.price,\r\n      imageUrl: product.imageUrl,\r\n      quantity: 1,\r\n      color: product.color || '',\r\n      size: product.size || ''\r\n    });\r\n    showNotification(`${product.name} added to cart!`, 'success');\r\n  };\r\n\r\n  const handleBuyNow = (e, product) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    addToCart({\r\n      id: product.id,\r\n      name: product.name,\r\n      price: product.price,\r\n      imageUrl: product.imageUrl,\r\n      quantity: 1,\r\n      color: product.color || '',\r\n      size: product.size || ''\r\n    });\r\n    navigate('/cart');\r\n  };\r\n\r\n  return (\r\n    <div className=\"product-list-wrapper no-background\">\r\n      <Sidebar />\r\n      <div className=\"product-list-container no-background\">\r\n        <h1 className=\"product-list-title\">\r\n          {location ? `Popular in ${location}` : 'PrimeGadgetZone Products'}\r\n        </h1>\r\n        {location && (\r\n          <div className=\"location-badge\">\r\n            üìç Your area\r\n          </div>\r\n        )}\r\n        <div className=\"product-list-grid\">\r\n          {isLoading && (\r\n            <div className=\"beautiful-loading-placeholder\">\r\n              {Array.from({ length: 6 }).map((_, index) => (\r\n                <div key={index} className=\"beautiful-loading-item\">\r\n                  <div className=\"beautiful-loading-image\"></div>\r\n                  <div className=\"beautiful-loading-text\"></div>\r\n                  <div className=\"beautiful-loading-text\"></div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n          {products.length > 0 ? (\r\n            products.map((product, index) => {\r\n              if (index === products.length - 1) {\r\n                return (\r\n                  <Link\r\n                    ref={lastProductElementRef}\r\n                    to={`/product/${encodeURIComponent(product.name)}?id=${product.id}`}\r\n                    key={product.id}\r\n                    className=\"product-card glass-card\"\r\n                  >\r\n                    <div className=\"product-image-container\">\r\n                      <img src={product.imageUrl} alt={product.name} />\r\n                      {product.tier && (\r\n                        <div className={`tier-badge tier-${product.tier.toLowerCase()}`}>\r\n                          {product.tier}\r\n                        </div>\r\n                      )}\r\n                      {product.status && product.status !== 'Active' && (\r\n                        <div className={`status-badge status-${product.status.toLowerCase()}`}>\r\n                          {product.status}\r\n                        </div>\r\n                      )}\r\n                      <button\r\n                        className={`favorite-badge ${isFavorite(product.id) ? 'favorited' : ''}`}\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          e.stopPropagation();\r\n                          if (isFavorite(product.id)) {\r\n                            removeFromFavorites(product.id);\r\n                            showNotification(`${product.name} removed from favorites`, 'info');\r\n                          } else {\r\n                            const success = addToFavorites(product);\r\n                            if (success) {\r\n                              showNotification(`${product.name} added to favorites`, 'success');\r\n                            }\r\n                          }\r\n                        }}\r\n                        title={isFavorite(product.id) ? 'Remove from favorites' : 'Add to favorites'}\r\n                      >\r\n                        <svg\r\n                          className=\"favorite-icon-small\"\r\n                          width=\"24\"\r\n                          height=\"24\"\r\n                          viewBox=\"0 0 24 24\"\r\n                          fill=\"none\"\r\n                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                        >\r\n                          <path\r\n                            d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"\r\n                            fill=\"currentColor\"\r\n                          />\r\n                        </svg>\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"product-info\">\r\n                      <h3>{truncateProductName(product.name, 30)}</h3>\r\n                      <div className=\"price-section\">\r\n                        {product.previousPrice && product.previousPrice > product.price ? (\r\n                          <>\r\n                            <span className=\"original-price\">${product.previousPrice.toFixed(2)}</span>\r\n                            <span className=\"current-price\">${product.price.toFixed(2)}</span>\r\n                            <span className=\"discount-badge\">\r\n                              {Math.round(((product.previousPrice - product.price) / product.previousPrice) * 100)}% OFF\r\n                            </span>\r\n                          </>\r\n                        ) : (\r\n                          <span className=\"current-price\">${product.price.toFixed(2)}</span>\r\n                        )}\r\n                      </div>\r\n                      {(product.maxBuyers || product.maxPerPerson) && (\r\n                        <div className=\"purchase-limits\">\r\n                          {product.maxBuyers && (\r\n                            <span className=\"limit-info\">Max: {product.maxBuyers}</span>\r\n                          )}\r\n                          {product.maxPerPerson && (\r\n                            <span className=\"limit-info\">Per Person: {product.maxPerPerson}</span>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                      {product.categories && product.categories.length > 0 && (\r\n                        <div className=\"product-categories\">\r\n                          {product.categories.slice(0, 1).map((category, index) => (\r\n                            <span key={index} className=\"category-tag\">{category}</span>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                      <div className=\"product-actions\">\r\n                        <button className=\"add-to-cart-btn\" onClick={(e) => handleAddToCart(e, product)}>\r\n                          Add to Cart\r\n                        </button>\r\n                        <button className=\"buy-now-btn\" onClick={(e) => handleBuyNow(e, product)}>\r\n                          Buy Now\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                );\r\n              } else {\r\n                return (\r\n                  <Link\r\n                    to={`/product/${encodeURIComponent(product.name)}?id=${product.id}`}\r\n                    key={product.id}\r\n                    className=\"product-card glass-card\"\r\n                  >\r\n                    <div className=\"product-image-container\">\r\n                      <img src={product.imageUrl} alt={product.name} />\r\n                      {product.tier && (\r\n                        <div className={`tier-badge tier-${product.tier.toLowerCase()}`}>\r\n                          {product.tier}\r\n                        </div>\r\n                      )}\r\n                      {product.status && product.status !== 'Active' && (\r\n                        <div className={`status-badge status-${product.status.toLowerCase()}`}>\r\n                          {product.status}\r\n                        </div>\r\n                      )}\r\n                      <button\r\n                        className={`favorite-badge ${isFavorite(product.id) ? 'favorited' : ''}`}\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          e.stopPropagation();\r\n                          if (isFavorite(product.id)) {\r\n                            removeFromFavorites(product.id);\r\n                            showNotification(`${product.name} removed from favorites`, 'info');\r\n                          } else {\r\n                            const success = addToFavorites(product);\r\n                            if (success) {\r\n                              showNotification(`${product.name} added to favorites`, 'success');\r\n                            }\r\n                          }\r\n                        }}\r\n                        title={isFavorite(product.id) ? 'Remove from favorites' : 'Add to favorites'}\r\n                      >\r\n                        <svg\r\n                          className=\"favorite-icon-small\"\r\n                          width=\"24\"\r\n                          height=\"24\"\r\n                          viewBox=\"0 0 24 24\"\r\n                          fill=\"none\"\r\n                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                        >\r\n                          <path\r\n                            d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"\r\n                            fill=\"currentColor\"\r\n                          />\r\n                        </svg>\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"product-info\">\r\n                      <h3>{truncateProductName(product.name, 30)}</h3>\r\n                      <div className=\"price-section\">\r\n                        {product.previousPrice && product.previousPrice > product.price ? (\r\n                          <>\r\n                            <span className=\"original-price\">${product.previousPrice.toFixed(2)}</span>\r\n                            <span className=\"current-price\">${product.price.toFixed(2)}</span>\r\n                            <span className=\"discount-badge\">\r\n                              {Math.round(((product.previousPrice - product.price) / product.previousPrice) * 100)}% OFF\r\n                            </span>\r\n                          </>\r\n                        ) : (\r\n                          <span className=\"current-price\">${product.price.toFixed(2)}</span>\r\n                        )}\r\n                      </div>\r\n                      {(product.maxBuyers || product.maxPerPerson) && (\r\n                        <div className=\"purchase-limits\">\r\n                          {product.maxBuyers && (\r\n                            <span className=\"limit-info\">Max: {product.maxBuyers}</span>\r\n                          )}\r\n                          {product.maxPerPerson && (\r\n                            <span className=\"limit-info\">Per Person: {product.maxPerPerson}</span>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                      {product.categories && product.categories.length > 0 && (\r\n                        <div className=\"product-categories\">\r\n                          {product.categories.slice(0, 1).map((category, index) => (\r\n                            <span key={index} className=\"category-tag\">{category}</span>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                      <div className=\"product-actions\">\r\n                        <button className=\"add-to-cart-btn\" onClick={(e) => handleAddToCart(e, product)}>\r\n                          Add to Cart\r\n                        </button>\r\n                        <button className=\"buy-now-btn\" onClick={(e) => handleBuyNow(e, product)}>\r\n                          Buy Now\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                );\r\n              }\r\n            })\r\n          ) : (\r\n            <div className=\"no-products\">\r\n              <p>No products available at the moment.</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {hasMore && (\r\n          <div className=\"load-more-container\">\r\n            <button \r\n              className=\"load-more-btn\" \r\n              onClick={loadMoreProducts}\r\n              disabled={isLoading}\r\n            >\r\n              {isLoading ? 'Loading...' : 'Load More Products'}\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductListPhone;\r\n","import React from 'react';\r\nimport './SkeletonProductCard.css';\r\n\r\nconst SkeletonProductCard = () => {\r\n  return (\r\n    <div className=\"skeleton-product-card\">\r\n      <div className=\"skeleton-image\"></div>\r\n      <div className=\"skeleton-info\">\r\n        <div className=\"skeleton-title\"></div>\r\n        <div className=\"skeleton-description\"></div>\r\n        <div className=\"skeleton-price\"></div>\r\n        <div className=\"skeleton-actions\">\r\n          <div className=\"skeleton-button\"></div>\r\n          <div className=\"skeleton-button\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SkeletonProductCard;\r\n","import React, { useState, useRef, useEffect } from 'react';\r\n\r\nconst LazyImage = ({ src, alt, className, ...props }) => {\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [isInView, setIsInView] = useState(false);\r\n  const [hasError, setHasError] = useState(false);\r\n  const imgRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (entry.isIntersecting) {\r\n          setIsInView(true);\r\n          observer.disconnect();\r\n        }\r\n      },\r\n      { threshold: 0.1 }\r\n    );\r\n\r\n    if (imgRef.current) {\r\n      observer.observe(imgRef.current);\r\n    }\r\n\r\n    return () => observer.disconnect();\r\n  }, []);\r\n\r\n  const handleLoad = () => {\r\n    setIsLoaded(true);\r\n  };\r\n\r\n  const handleError = () => {\r\n    setHasError(true);\r\n  };\r\n\r\n  return (\r\n    <div ref={imgRef} className={`lazy-image-container ${className || ''}`}>\r\n      {isInView && !hasError && (\r\n        <img\r\n          src={src}\r\n          alt={alt}\r\n          onLoad={handleLoad}\r\n          onError={handleError}\r\n          className={`lazy-image ${isLoaded ? 'loaded' : 'loading'}`}\r\n          {...props}\r\n        />\r\n      )}\r\n      {!isLoaded && !hasError && (\r\n        <div className=\"lazy-image-placeholder\"></div>\r\n      )}\r\n      {hasError && (\r\n        <div className=\"lazy-image-error\">\r\n          <span>Image failed to load</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LazyImage;\r\n","// Location utility functions for location-based recommendations\r\n\r\n/**\r\n * Request location permission from the user\r\n * @returns {Promise<string|null>} Promise that resolves to the location or null if denied\r\n */\r\nexport const requestLocationPermission = async () => {\r\n  if (!navigator.geolocation) {\r\n    console.warn('Geolocation is not supported by this browser');\r\n    return null;\r\n  }\r\n\r\n  try {\r\n    const position = await new Promise((resolve, reject) => {\r\n      navigator.geolocation.getCurrentPosition(resolve, reject, {\r\n        enableHighAccuracy: true,\r\n        timeout: 10000,\r\n        maximumAge: 300000 // 5 minutes\r\n      });\r\n    });\r\n\r\n    // Convert coordinates to a location string (city/area)\r\n    const { latitude, longitude } = position.coords;\r\n    \r\n    // For now, we'll use a simple location string based on coordinates\r\n    // In a real implementation, you would use a reverse geocoding API\r\n    const location = await reverseGeocode(latitude, longitude);\r\n    \r\n    // Store location in localStorage for future use\r\n    localStorage.setItem('userLocation', location);\r\n    localStorage.setItem('locationPermission', 'granted');\r\n    \r\n    return location;\r\n  } catch (error) {\r\n    console.warn('Location permission denied or error:', error);\r\n    localStorage.setItem('locationPermission', 'denied');\r\n    return null;\r\n  }\r\n};\r\n\r\n/**\r\n * Simple reverse geocoding function (mock implementation)\r\n * In a real app, you would use a service like Google Maps Geocoding API\r\n * This implementation doesn't expose exact coordinates for privacy\r\n * @param {number} latitude \r\n * @param {number} longitude \r\n * @returns {Promise<string>} Location string\r\n */\r\nconst reverseGeocode = async (latitude, longitude) => {\r\n  // Mock implementation - in a real app, you would call a geocoding API\r\n  // For now, we'll return a location based on approximate coordinates\r\n  // This doesn't expose the actual coordinates to protect user privacy\r\n  \r\n  // Major city areas - using descriptive names only\r\n  if (latitude > 40 && latitude < 42 && longitude > -74 && longitude < -72) {\r\n    return 'New York';\r\n  } else if (latitude > 33 && latitude < 35 && longitude > -119 && longitude < -117) {\r\n    return 'Los Angeles';\r\n  } else if (latitude > 51 && latitude < 52 && longitude > -0.5 && longitude < 0.5) {\r\n    return 'London';\r\n  } else if (latitude > 35 && latitude < 37 && longitude > 139 && longitude < 141) {\r\n    return 'Tokyo';\r\n  } else if (latitude > 48 && latitude < 50 && longitude > 2 && longitude < 4) {\r\n    return 'Paris';\r\n  } else if (latitude > 52 && latitude < 53 && longitude > 13 && longitude < 14) {\r\n    return 'Berlin';\r\n  }\r\n  \r\n  // Bangladesh regions - using city names only\r\n  else if (latitude > 23 && latitude < 25 && longitude > 90 && longitude < 92) {\r\n    return 'Dhaka';\r\n  } else if (latitude > 22 && latitude < 24 && longitude > 89 && longitude < 91) {\r\n    return 'Faridpur';\r\n  } else if (latitude > 24 && latitude < 26 && longitude > 88 && longitude < 90) {\r\n    return 'Rajshahi';\r\n  } else if (latitude > 22 && latitude < 24 && longitude > 91 && longitude < 93) {\r\n    return 'Chittagong';\r\n  } else if (latitude > 23 && latitude < 25 && longitude > 89 && longitude < 91) {\r\n    return 'Mymensingh';\r\n  } else if (latitude > 23 && latitude < 25 && longitude > 88 && longitude < 90) {\r\n    return 'Rangpur';\r\n  } else if (latitude > 22 && latitude < 24 && longitude > 90 && longitude < 92) {\r\n    return 'Barisal';\r\n  } else if (latitude > 22 && latitude < 24 && longitude > 89 && longitude < 91) {\r\n    return 'Khulna';\r\n  } else if (latitude > 23 && latitude < 25 && longitude > 90 && longitude < 92) {\r\n    return 'Sylhet';\r\n  }\r\n  \r\n  // General regions based on coordinates without exposing any numbers\r\n  else if (latitude > 0 && longitude > 0) {\r\n    return 'Eastern Region';\r\n  } else if (latitude > 0 && longitude < 0) {\r\n    return 'Western Region';\r\n  } else if (latitude < 0 && longitude > 0) {\r\n    return 'Southern Region';\r\n  } else if (latitude < 0 && longitude < 0) {\r\n    return 'Northern Region';\r\n  } else {\r\n    // Default to a generic location that doesn't expose coordinates\r\n    return 'Local Area';\r\n  }\r\n};\r\n\r\n/**\r\n * Get user's location from localStorage or request permission\r\n * @returns {Promise<string|null>} Location string or null\r\n */\r\nexport const getUserLocation = async () => {\r\n  const permission = localStorage.getItem('locationPermission');\r\n  \r\n  if (permission === 'denied') {\r\n    return null;\r\n  }\r\n  \r\n  const savedLocation = localStorage.getItem('userLocation');\r\n  if (savedLocation) {\r\n    return savedLocation;\r\n  }\r\n  \r\n  // No saved location, request permission\r\n  return await requestLocationPermission();\r\n};\r\n\r\n/**\r\n * Check if location permission has been granted\r\n * @returns {boolean} True if permission granted\r\n */\r\nexport const hasLocationPermission = () => {\r\n  return localStorage.getItem('locationPermission') === 'granted';\r\n};\r\n\r\n/**\r\n * Reset location permission (for testing)\r\n */\r\nexport const resetLocationPermission = () => {\r\n  localStorage.removeItem('locationPermission');\r\n  localStorage.removeItem('userLocation');\r\n};\r\n\r\n/**\r\n * Fetch location-based product recommendations\r\n * @param {string} location \r\n * @returns {Promise<Array>} Array of recommended products\r\n */\r\nexport const fetchLocationBasedProducts = async (location) => {\r\n  try {\r\n    const response = await fetch(`http://localhost:5000/api/products/location/${encodeURIComponent(location)}`);\r\n    if (!response.ok) {\r\n      throw new Error('Failed to fetch location-based products');\r\n    }\r\n    const data = await response.json();\r\n    return data.products || [];\r\n  } catch (error) {\r\n    console.error('Error fetching location-based products:', error);\r\n    // Fallback to popular products\r\n    return fetchPopularProducts();\r\n  }\r\n};\r\n\r\n/**\r\n * Fetch popular products (fallback)\r\n * @returns {Promise<Array>} Array of popular products\r\n */\r\nexport const fetchPopularProducts = async () => {\r\n  try {\r\n    const response = await fetch('http://localhost:5000/api/products/popular');\r\n    if (!response.ok) {\r\n      throw new Error('Failed to fetch popular products');\r\n    }\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error fetching popular products:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n/**\r\n * Show location permission dialog if not already shown or if it's time to ask again\r\n * @returns {Promise<string|null>} Location or null\r\n */\r\nexport const showLocationPermissionDialog = async () => {\r\n  const lastAsked = localStorage.getItem('locationPermissionLastAsked');\r\n  const permissionShown = localStorage.getItem('locationPermissionShown');\r\n  const permission = localStorage.getItem('locationPermission');\r\n  \r\n  // Check if we should ask again (after 1 day)\r\n  const shouldAskAgain = () => {\r\n    if (!lastAsked) return true;\r\n    const lastAskedDate = new Date(parseInt(lastAsked));\r\n    const oneDayAgo = new Date();\r\n    oneDayAgo.setDate(oneDayAgo.getDate() - 1);\r\n    return lastAskedDate < oneDayAgo;\r\n  };\r\n  \r\n  // If permission was previously denied and it's been less than 1 day, don't ask again\r\n  if (permission === 'denied' && !shouldAskAgain()) {\r\n    return null;\r\n  }\r\n  \r\n  // If permission was previously shown but not denied, or it's time to ask again\r\n  if (permissionShown && permission !== 'denied' && !shouldAskAgain()) {\r\n    return getUserLocation();\r\n  }\r\n  \r\n  // Show a custom dialog asking for location permission\r\n  const userConfirmed = window.confirm(\r\n    'PrimeGadgetZone would like to use your location to show personalized product recommendations. Allow location access?'\r\n  );\r\n  \r\n  localStorage.setItem('locationPermissionShown', 'true');\r\n  localStorage.setItem('locationPermissionLastAsked', Date.now().toString());\r\n  \r\n  if (userConfirmed) {\r\n    return await requestLocationPermission();\r\n  } else {\r\n    localStorage.setItem('locationPermission', 'denied');\r\n    return null;\r\n  }\r\n};\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport Sidebar from './Sidebar';\r\nimport './ProductList.css';\r\nimport './Favorites.css';\r\n\r\nimport ProductListPhone from './ProductListPhone';\r\nimport SkeletonProductCard from './SkeletonProductCard';\r\nimport LazyImage from './LazyImage';\r\n\r\nimport { truncateProductDescription, truncateProductName } from '../utils/textUtils';\r\nimport {\r\n  getUserLocation,\r\n  fetchLocationBasedProducts,\r\n  fetchPopularProducts,\r\n  showLocationPermissionDialog\r\n} from '../utils/locationUtils';\r\nimport { CartContext } from '../contexts/CartContext';\r\nimport { useNotification } from '../contexts/NotificationContext';\r\nimport { useFavorites } from '../contexts/FavoritesContext';\r\n\r\n\r\nconst ProductList = () => {\r\n  const { showNotification } = useNotification();\r\n  const { addToFavorites, removeFromFavorites, isFavorite, requireAuthForFavorites } = useFavorites();\r\n  const [isPhoneView, setIsPhoneView] = useState(false);\r\n  const [products, setProducts] = useState([]);\r\n  const [location, setLocation] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [lastRefresh, setLastRefresh] = useState(Date.now());\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [hasMore, setHasMore] = useState(true);\r\n\r\n  const { addToCart } = useContext(CartContext);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setIsPhoneView(window.innerWidth <= 600);\r\n    };\r\n    handleResize();\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    initializeProducts();\r\n  }, []);\r\n\r\n  const initializeProducts = async (forceRefresh = false) => {\r\n    setIsLoading(true);\r\n    try {\r\n      // Clear localStorage location data if forcing refresh\r\n      if (forceRefresh) {\r\n        localStorage.removeItem('userLocation');\r\n        localStorage.removeItem('locationPermission');\r\n        localStorage.removeItem('locationPermissionLastAsked');\r\n        localStorage.removeItem('locationPermissionShown');\r\n        setLastRefresh(Date.now());\r\n      }\r\n      \r\n      // Try to get user location and show permission dialog if needed\r\n      const userLocation = await showLocationPermissionDialog();\r\n      \r\n      if (userLocation) {\r\n        setLocation(userLocation);\r\n        // Fetch location-based products with timestamp to prevent caching\r\n        const timestamp = Date.now();\r\n        const locationProducts = await fetchLocationBasedProducts(userLocation);\r\n        // Load first 60 products initially\r\n        const initialProducts = locationProducts.slice(0, 60);\r\n        setProducts(initialProducts);\r\n        setCurrentPage(2); // Set to page 2 since we already loaded first 60\r\n        setHasMore(locationProducts.length > 60);\r\n      } else {\r\n        // Fallback to popular products with timestamp to prevent caching\r\n        const timestamp = Date.now();\r\n        const popularProducts = await fetchPopularProducts();\r\n        // Load first 60 products initially\r\n        const initialProducts = popularProducts.slice(0, 60);\r\n        setProducts(initialProducts);\r\n        setCurrentPage(2); // Set to page 2 since we already loaded first 60\r\n        setHasMore(popularProducts.length > 60);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error initializing products:', error);\r\n      // Fallback to all products if everything fails\r\n      try {\r\n        const res = await axios.get('http://localhost:5000/api/products');\r\n        // Load first 60 products initially\r\n        const initialProducts = res.data.slice(0, 60);\r\n        setProducts(initialProducts);\r\n        setCurrentPage(2); // Set to page 2 since we already loaded first 60\r\n        setHasMore(res.data.length > 60);\r\n      } catch (fallbackError) {\r\n        console.error('Fallback product fetch failed:', fallbackError);\r\n        setProducts([]);\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRefresh = () => {\r\n    initializeProducts(true); // Force refresh with true parameter\r\n  };\r\n\r\n\r\n\r\n  const loadMoreProducts = async () => {\r\n    try {\r\n      const res = await axios.get('http://localhost:5000/api/products');\r\n      const allProducts = res.data;\r\n      const startIndex = (currentPage - 1) * 60;\r\n      const endIndex = startIndex + 30;\r\n      \r\n      if (startIndex >= allProducts.length) {\r\n        setHasMore(false);\r\n        return;\r\n      }\r\n\r\n      const newProducts = allProducts.slice(startIndex, endIndex);\r\n      setProducts(prevProducts => [...prevProducts, ...newProducts]);\r\n      setCurrentPage(prevPage => prevPage + 1);\r\n      \r\n      // Check if there are more products to load\r\n      if (endIndex >= allProducts.length) {\r\n        setHasMore(false);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading more products:', error);\r\n    }\r\n  };\r\n\r\n  const handleScroll = () => {\r\n    if (window.innerHeight + document.documentElement.scrollTop !== document.documentElement.offsetHeight || !hasMore) {\r\n      return;\r\n    }\r\n    loadMoreProducts();\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, [hasMore]);\r\n\r\n  const handleAddToCart = (e, product) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    addToCart({\r\n      id: product.id,\r\n      name: product.name,\r\n      price: product.price,\r\n      imageUrl: product.imageUrl,\r\n      quantity: 1,\r\n      color: product.color || '',\r\n      size: product.size || ''\r\n    });\r\n    showNotification(`${product.name} added to cart!`, 'success');\r\n  };\r\n\r\n\r\n\r\n  const handleBuyNow = (e, product) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    addToCart({\r\n      id: product.id,\r\n      name: product.name,\r\n      price: product.price,\r\n      imageUrl: product.imageUrl,\r\n      quantity: 1,\r\n      color: product.color || '',\r\n      size: product.size || ''\r\n    });\r\n    navigate('/cart');\r\n  };\r\n\r\n  if (isPhoneView) {\r\n    return <ProductListPhone products={products} location={location} />;\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"product-list-wrapper\">\r\n        <Sidebar />\r\n        <div className=\"product-list-container\">\r\n          <h1 className=\"product-list-title\">PrimeGadgetZone Products</h1>\r\n          <div className=\"product-list-grid\">\r\n            {Array.from({ length: 12 }, (_, index) => (\r\n              <SkeletonProductCard key={index} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"product-list-wrapper\">\r\n      <Sidebar />\r\n      <div className=\"product-list-container\">\r\n        <h1 className=\"product-list-title\">\r\n          {location ? `Popular in ${location}` : 'PrimeGadgetZone Products'}\r\n        </h1>\r\n        {location && (\r\n          <div className=\"location-badge\">\r\n            üìç Showing recommendations for your area\r\n          </div>\r\n        )}\r\n        <div className=\"product-list-grid\">\r\n          {products.length > 0 ? (\r\n            products.map(product => (\r\n              <Link to={`/product/${encodeURIComponent(product.name)}?id=${product.id}`} key={product.id} className=\"product-card\">\r\n                <div className=\"product-image-container\">\r\n                  <LazyImage src={product.imageUrl} alt={product.name} />\r\n                  {product.stock === 0 && (\r\n                    <div className=\"out-of-stock-badge\">\r\n                      OUT OF STOCK\r\n                    </div>\r\n                  )}\r\n                  {product.tier && (\r\n                    <div className={`tier-badge tier-${product.tier.toLowerCase()}`}>\r\n                      {product.tier}\r\n                    </div>\r\n                  )}\r\n                  {product.status && product.status !== 'Active' && (\r\n                    <div className={`status-badge status-${product.status.toLowerCase()}`}>\r\n                      {product.status}\r\n                    </div>\r\n                  )}\r\n                  <button\r\n                    className={`favorite-badge ${isFavorite(product.id) ? 'favorited' : ''}`}\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      e.stopPropagation();\r\n                      if (isFavorite(product.id)) {\r\n                        removeFromFavorites(product.id);\r\n                        showNotification(`${product.name} removed from favorites`, 'info');\r\n                      } else {\r\n                        const success = addToFavorites(product);\r\n                        if (success) {\r\n                          showNotification(`${product.name} added to favorites`, 'success');\r\n                        }\r\n                      }\r\n                    }}\r\n                    title={isFavorite(product.id) ? 'Remove from favorites' : 'Add to favorites'}\r\n                  >\r\n                    <svg\r\n                      className=\"favorite-icon-small\"\r\n                      width=\"24\"\r\n                      height=\"24\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      fill=\"none\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                    >\r\n                      <path\r\n                        d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"\r\n                        fill=\"currentColor\"\r\n                      />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n                <div className=\"product-info\">\r\n                  <h3>{truncateProductName(product.name)}</h3>\r\n                  <p className=\"product-description\">{truncateProductDescription(product.description)}</p>\r\n                  <div className=\"price-section\">\r\n                    {product.previousPrice && product.previousPrice > product.price ? (\r\n                      <>\r\n                        <span className=\"original-price\">${product.previousPrice.toFixed(2)}</span>\r\n                        <span className=\"current-price\">${product.price.toFixed(2)}</span>\r\n                        <span className=\"discount-badge\">\r\n                          {((product.previousPrice - product.price) / product.previousPrice) <= 0.05 ? 'Elite Choice' : `${Math.round(((product.previousPrice - product.price) / product.previousPrice) * 100)}% OFF`}\r\n                        </span>\r\n                      </>\r\n                    ) : (\r\n                      <span className=\"current-price\">${product.price.toFixed(2)}</span>\r\n                    )}\r\n                  </div>\r\n                  {(product.maxBuyers || product.maxPerPerson) && (\r\n                    <div className=\"purchase-limits\">\r\n                      {product.maxBuyers && product.maxBuyers > 0 && (\r\n                        <span className=\"limit-info\">{`Only ${product.maxBuyers} left in stock`}</span>\r\n                      )}\r\n                      {product.maxBuyers === 0 && (\r\n                        <span className=\"limit-info out-of-stock\">Out of stock</span>\r\n                      )}\r\n                      {product.maxPerPerson && (\r\n                        <span className=\"limit-info\" style={{display: 'block'}}>Max Per Person: {product.maxPerPerson}</span>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                  <div className=\"product-actions\">\r\n                    <button\r\n                      className=\"add-to-cart-btn\"\r\n                      onClick={(e) => handleAddToCart(e, product)}\r\n                      disabled={product.stock === 0}\r\n                    >\r\n                      {product.stock === 0 ? 'Out of Stock' : 'Add to Cart'}\r\n                    </button>\r\n                    <button\r\n                      className=\"buy-now-btn\"\r\n                      onClick={(e) => handleBuyNow(e, product)}\r\n                      disabled={product.stock === 0}\r\n                    >\r\n                      {product.stock === 0 ? 'Out of Stock' : 'Buy Now'}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </Link>\r\n            ))\r\n          ) : (\r\n            <div className=\"no-products\">\r\n              <p>No products available at the moment.</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductList;\r\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nexport { _objectWithoutProperties as default };","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nexport { _objectWithoutPropertiesLoose as default };"],"names":["Sidebar","featuredProducts","setFeaturedProducts","useState","currentPage","setCurrentPage","hasMore","setHasMore","sidebarRef","useRef","location","useLocation","favorites","useFavorites","isFavoritesPage","pathname","useEffect","fetchFeaturedProducts","adjustSidebarHeight","window","addEventListener","removeEventListener","sidebar","current","productListContainer","document","querySelector","productListHeight","offsetHeight","style","height","concat","calculateAndLoadProducts","async","productListRes","fetch","allProducts","json","productsAvailableHeight","availableHeight","productItemHeight","maxProductsToShow","Math","floor","productsToShow","max","min","length","selectedProducts","sort","random","slice","error","console","initialProducts","setTimeout","_jsxs","className","ref","children","_jsx","Link","to","map","product","encodeURIComponent","name","id","src","imageUrl","alt","tier","previousPrice","price","toFixed","truncateText","text","maxLength","arguments","undefined","substring","truncateProductDescription","description","truncateProductName","_ref","products","setProducts","isLoading","setIsLoading","lastStockUpdate","setLastStockUpdate","observer","addToCart","useContext","CartContext","showNotification","useNotification","addToFavorites","removeFromFavorites","isFavorite","requireAuthForFavorites","navigate","useNavigate","fetchCurrentStockData","useCallback","updatedProducts","Promise","all","response","ok","currentProductData","_objectSpread","stock","maxBuyers","maxPerPerson","outOfStockDate","Date","toISOString","log","intervalId","setInterval","clearInterval","loadMoreProducts","currentLength","nextProducts","lastProductElementRef","node","disconnect","IntersectionObserver","entries","isIntersecting","observe","handleAddToCart","e","preventDefault","stopPropagation","quantity","color","size","handleBuyNow","Array","from","_","index","toLowerCase","status","onClick","title","width","viewBox","fill","xmlns","d","_Fragment","round","categories","category","disabled","SkeletonProductCard","props","_objectWithoutProperties","_excluded","isLoaded","setIsLoaded","isInView","setIsInView","hasError","setHasError","imgRef","_ref2","entry","threshold","onLoad","handleLoad","onError","handleError","requestLocationPermission","navigator","geolocation","warn","position","resolve","reject","getCurrentPosition","enableHighAccuracy","timeout","maximumAge","latitude","longitude","coords","reverseGeocode","localStorage","setItem","fetchPopularProducts","Error","showLocationPermissionDialog","lastAsked","getItem","permissionShown","permission","shouldAskAgain","lastAskedDate","parseInt","oneDayAgo","setDate","getDate","getUserLocation","userConfirmed","confirm","now","toString","ProductList","isPhoneView","setIsPhoneView","setLocation","lastRefresh","setLastRefresh","handleResize","innerWidth","initializeProducts","forceRefresh","removeItem","userLocation","locationProducts","fetchLocationBasedProducts","popularProducts","res","axios","get","data","fallbackError","handleScroll","innerHeight","documentElement","scrollTop","startIndex","endIndex","newProducts","prevProducts","prevPage","ProductListPhone","LazyImage","display","t","o","r","i","n","hasOwnProperty","call","indexOf","Object","getOwnPropertySymbols","propertyIsEnumerable"],"sourceRoot":""}